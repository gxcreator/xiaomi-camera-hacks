{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/js/wfs.js","webpack:///./src/helpers/HackId.ts","webpack:///./src/App.vue?acb4","webpack:///src/App.vue","webpack:///./src/App.vue?5de9","webpack:///./src/App.vue","webpack:///./src/sections/streaming/StreamingDashboard.vue?ad12","webpack:///./src/sections/root/RootTemplate.vue?6e79","webpack:///./src/sections/root/RootTemplate.vue","webpack:///./src/sections/root/RootTemplate.vue?91bd","webpack:///./src/sections/root/RootTemplate.vue?063e","webpack:///./src/components/HackInfo.vue?ac99","webpack:///./src/components/HackInfo.vue","webpack:///./src/components/HackInfo.vue?8400","webpack:///./src/components/HackInfo.vue?7444","webpack:///./src/components/StreamingPlayer.vue?7e54","webpack:///./src/components/StreamingPlayer.vue","webpack:///./src/components/StreamingPlayer.vue?0b4d","webpack:///./src/components/StreamingPlayer.vue?b3d8","webpack:///./src/sections/streaming/StreamingConfig.vue?4af2","webpack:///./src/controllers/ConfigurableHack.ts","webpack:///./src/controllers/rtsp/RtspConfig.ts","webpack:///./src/controllers/websocket-stream/WebsocketStreamConfig.ts","webpack:///./src/sections/streaming/StreamingConfig.vue","webpack:///./src/sections/streaming/StreamingConfig.vue?bad3","webpack:///./src/sections/streaming/StreamingConfig.vue?46a0","webpack:///./src/sections/streaming/StreamingDashboard.vue","webpack:///./src/sections/streaming/StreamingDashboard.vue?8905","webpack:///./src/sections/streaming/StreamingDashboard.vue?df54","webpack:///./src/sections/sshsftp/SshSftpDashboard.vue?bf14","webpack:///./src/components/ServiceInfo.vue?256f","webpack:///./src/components/ServiceInfo.vue","webpack:///./src/components/ServiceInfo.vue?4c11","webpack:///./src/components/ServiceInfo.vue?ef9e","webpack:///./src/sections/sshsftp/SshSftpGeneralConfig.vue?6000","webpack:///./src/controllers/ssh/SshGeneralConfig.ts","webpack:///./src/sections/sshsftp/SshSftpGeneralConfig.vue","webpack:///./src/sections/sshsftp/SshSftpGeneralConfig.vue?f8f1","webpack:///./src/sections/sshsftp/SshSftpGeneralConfig.vue?73e8","webpack:///./src/sections/sshsftp/SshSftpUserManagement.vue?79d9","webpack:///./src/controllers/ssh/SshUserConfig.ts","webpack:///./src/sections/sshsftp/SshSftpUserManagement.vue","webpack:///./src/sections/sshsftp/SshSftpUserManagement.vue?d423","webpack:///./src/sections/sshsftp/SshSftpUserManagement.vue?d49a","webpack:///./src/sections/sshsftp/SshSftpDashboard.vue","webpack:///./src/sections/sshsftp/SshSftpDashboard.vue?b87a","webpack:///./src/sections/sshsftp/SshSftpDashboard.vue?ba57","webpack:///./src/sections/dashboard/Dashboard.vue?1cfb","webpack:///src/sections/dashboard/Dashboard.vue","webpack:///./src/sections/dashboard/Dashboard.vue?a713","webpack:///./src/sections/dashboard/Dashboard.vue","webpack:///./src/router/index.ts","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","f","define","e","require","u","a","Error","code","1","EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","err","context","Array","addListener","listener","newListener","warned","console","trace","on","once","fired","g","removeListener","list","position","removeAllListeners","ret","listenerCount","evlistener","emitter","2","_createClass","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","_events2","_interopRequireDefault","_eventHandler","_eventHandler2","_errors","obj","default","_classCallCheck","instance","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","BufferController","_EventHandler","wfs","_this","getPrototypeOf","MEDIA_ATTACHING","BUFFER_APPENDING","BUFFER_RESET","mediaSource","media","pendingTracks","sourceBuffer","segments","appended","_msDuration","onsbue","onSBUpdateEnd","browserType","navigator","userAgent","toLowerCase","indexOf","mediaType","destroy","ms","MediaSource","onmso","onMediaSourceOpen","onmse","onMediaSourceEnded","onmsc","onMediaSourceClose","addEventListener","src","URL","createObjectURL","doAppending","log","event","endOfStream","play","appending","updateMediaElementDuration","removeEventListener","checkPendingTracks","createSourceBuffers","tracks","mimeType","sb","addSourceBuffer","track","buffer","trigger","BUFFER_CREATED","oldBuf","mp4buffer","Uint8Array","byteLength","set","keys","segment","parent","appendBuffer","appendError","unshift","ErrorTypes","MEDIA_ERROR","details","ErrorDetails","BUFFER_FULL_ERROR","BUFFER_APPEND_ERROR","frag","fragCurrent","config","appendErrorMaxRetry","fatal","3","FlowController","FILE_PARSING_DATA","FILE_HEAD_LOADED","FILE_DATA_LOADED","WEBSOCKET_ATTACHED","FRAG_PARSING_DATA","FRAG_PARSING_INIT_SEGMENT","fileStart","fileEnd","pendingAppending","payload","trackName","video","id","initSegment","_this2","data1","data2","forEach","4","_logger","ExpGolomb","bytesAvailable","word","bitsAvailable","workingBytes","availableBytes","Math","min","subarray","DataView","getUint32","count","skipBytes","loadWord","size","bits","valu","logger","readBits","leadingZeroCount","skipLZ","skipBits","clz","readUEG","deltaScale","lastScale","nextScale","readEG","profileIdc","numRefFramesInPicOrderCntCycle","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","scalingListCount","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","sarScale","readUByte","skipUEG","chromaFormatIdc","readBoolean","skipScalingList","picOrderCntType","skipEG","sarRatio","aspectRatioIdc","width","ceil","height","5","_expGolomb","_expGolomb2","_mp4Remuxer","_mp4Remuxer2","h264Demuxer","H264_DATA_PARSED","keepParsing","remuxer","contiguous","timeOffset","sn","TIMESCALE","timestamp","scaleFactor","H264_TIMEBASE","fps","_avcTrack","container","sequenceNumber","samples","nbNalu","dropped","_parseAVCTrack","pushVideo","array","expGolombDecoder","avcSample","units","_parseAVCNALu","units2","debug","debugString","pushAccesUnit","forceKeyFrameOnDiscontinuity","sps","paused","tss","getTimestampM","pts","dts","unit","discardEPB","readSPS","duration","codecarray","codecstring","h","toString","codec","pps","unitType","lastUnitStart","lastUnitType","state","newLength","newData","EPBPositions","sourceIndex","6","NETWORK_ERROR","OTHER_ERROR","MANIFEST_LOAD_ERROR","MANIFEST_LOAD_TIMEOUT","MANIFEST_PARSING_ERROR","MANIFEST_INCOMPATIBLE_CODECS_ERROR","LEVEL_LOAD_ERROR","LEVEL_LOAD_TIMEOUT","LEVEL_SWITCH_ERROR","AUDIO_TRACK_LOAD_ERROR","AUDIO_TRACK_LOAD_TIMEOUT","FRAG_LOAD_ERROR","FRAG_LOOP_LOADING_ERROR","FRAG_LOAD_TIMEOUT","FRAG_DECRYPT_ERROR","FRAG_PARSING_ERROR","KEY_LOAD_ERROR","KEY_LOAD_TIMEOUT","BUFFER_ADD_CODEC_ERROR","BUFFER_APPENDING_ERROR","BUFFER_STALLED_ERROR","BUFFER_SEEK_OVER_HOLE","INTERNAL_EXCEPTION","7","_typeof","iterator","EventHandler","onEvent","_len","events","_key","handledEvents","useGenericHandler","registerListeners","unregisterListeners","isEventHandler","off","onEventGeneric","eventToFunction","funcName","replace","message","8","FRAG_LOADING","H264_DATA_PARSING","FILE_HEAD_LOADING","FILE_DATA_LOADING","9","AAC","channelCount","10","11","_h264NalSlicesreader","_h264NalSlicesreader2","WebsocketLoader","buf","slicesReader","copy","12","MP4","types","avc1","avcC","btrt","dinf","dref","esds","ftyp","hdlr","mdat","mdhd","mdia","mfhd","minf","moof","moov","mp4a","mvex","mvhd","sdtp","stbl","stco","stsc","stsd","stsz","stts","tfdt","tfhd","traf","trak","trun","trex","tkhd","vmhd","smhd","charCodeAt","videoHdlr","audioHdlr","HDLR_TYPES","STTS","STSC","STCO","STSZ","VMHD","SMHD","STSD","majorBrand","avc1Brand","minorVersion","FTYP","box","DINF","timescale","baseMediaDecodeTime","boxes","concat","bytes","flags","dependsOn","isDependedOn","hasRedundancy","avcc","configlen","audiosamplerate","sampleDependencyTable","offset","sample","cts","arraylen","isLeading","paddingValue","isNonSync","degradPrio","init","movie","13","_aac","_aac2","_mp4Generator","_mp4Generator2","MP4Remuxer","observer","ISGenerated","PES2MP4SCALEFACTOR","PES_TIMESCALE","MP4_TIMESCALE","nextAvcDts","_initPTS","_initDTS","level","videoTrack","generateVideoIS","remuxVideo_2","audioTrackLength","inputSamples","outputSamples","view","setUint32","sampleDuration","ptsnorm","dtsnorm","lastDTS","mp4SampleLength","_PTSNormalize","delta","round","abs","max","firstPTS","firstDTS","lastSampleDuration","startPTS","endPTS","startDTS","endDTS","nb","initPTS","initDTS","videoSamples","unique","computePTSDTS","Infinity","metadata","audioTrack","id3Track","textTrack","generateIS","audioData","remuxAudio","remuxVideo","videoData","remuxEmptyAudio","remuxID3","remuxText","FRAG_PARSED","audioSamples","pesTimeScale","pow","greatestCommonDivisor","b","audio","ERROR","reason","mp4SampleDuration","lastPTS","pes2mp4ScaleFactor","vendor","isSafari","match","_sample","_i","compositionTimeOffset","lastFrameDuration","stretchShortVideoTrack","maxBufferHole","maxSeekHole","gapTolerance","floor","deltaToFrameEnd","nextAacPts","aacSample","mp4Sample","mp4timeScale","expectedSampleDuration","samples0","sort","firstPtsNorm","pesFrameDuration","nextPtsNorm","ptsNorm","missing","newStamp","fillFrame","getSilentFrame","_delta","nbSamples","frameDuration","silentFrame","stamp","index","FRAG_PARSING_METADATA","FRAG_PARSING_USERDATA","reference","14","_h264Demuxer","_h264Demuxer2","SlicesReader","lastBuf","nals","typedAr","lastNalEndPos","b1","b2","nalStartPos","b_0","b_1","_newBuf","_read","$this","nal","15","noop","fakeLogger","warn","info","exportedLogger","formatMsg","msg","consolePrintFn","func","exportLoggerFunctions","debugConfig","_len2","functions","_key2","enableLogs","16","ArrayBuffer","start","end","that","resultArray","17","XhrLoader","xhrSetup","abort","loader","readyState","stats","aborted","clearTimeout","requestTimeout","retryTimeout","callbacks","trequest","performance","now","retry","retryDelay","xhr","XMLHttpRequest","open","url","onload","onSuccess","getResponseHeader","send","loadInternal","XDomainRequest","onloadend","loadend","onprogress","loadprogress","rangeEnd","setRequestHeader","rangeStart","responseType","tfirst","loaded","setTimeout","loadtimeout","timeout","currentTarget","status","tload","response","responseText","total","responseURL","maxRetry","onError","text","statusText","maxRetryDelay","onTimeout","lengthComputable","onProgress","18","_flowController","_flowController2","_bufferController","_bufferController2","_events3","_events4","_xhrLoader","_xhrLoader2","_websocketLoader","_websocketLoader2","Wfs","defaultConfig","DefaultConfig","prop","flowController","bufferController","websocketLoader","isTypeSupported","autoStartLoad","startPosition","fLoader","fmp4FileUrl","fragLoadingTimeOut","fragLoadingMaxRetry","fragLoadingRetryDelay","fragLoadingMaxRetryTimeout","fragLoadingLoopThreshold","receiveSocketMessage","HackId","_vm","_h","$createElement","_c","_self","staticRenderFns","component","slot","_v","_s","toolbarTitle","attrs","refresh","ref","staticClass","relatedHackIds","model","callback","$$v","drawer","expression","$event","stopPropagation","_t","VApp","VAppBar","VAppBarNavIcon","VContent","VIcon","VList","VListItem","VListItemContent","VListItemGroup","VListItemIcon","VListItemTitle","VNavigationDrawer","VToolbarTitle","VToolbar","isLoading","domProps","infoText","hackIds","hackId","then","required","VCard","VCardText","VCardTitle","snackbarColor","showSnackbar","snackbarText","staticStyle","overlayOpacity","showOverlay","_e","overlayMessage","reload","videoChannel","mainstreamUri","substreamUri","isWebsocketStreamEnabled","websocketStreamEnabled","getCurrentVideoEncoding","videoEncoding","loadWebsocketStreamEndpoints","endpoints","mainstream","substream","reloadPlayer","websocket","WebSocket","OPEN","close","$nextTick","videoElement","$refs","videoPreview","isSupported","attachMedia","onopen","binaryType","onmessage","Promise","resolve","WebsocketStreamServer","enable","catch","showSnackbarError","RTSPServer","encodingType","VBtn","VBtnToggle","VCardActions","VCol","VContainer","VOverlay","VProgressCircular","VRow","VSnackbar","VSpacer","rtspConfig","$set","websocketStreamConfig","saveConfig","options","entityConfig","endpointSuffix","TCreator","ECreator","reject","post","delete","rtspConfigResult","loadConfig","websocketConfigResult","all","rtspSaveResult","websocketSaveResult","$emit","VForm","VRadio","VRadioGroup","VSwitch","reloadPreview","streamingPlayerComponent","components","RootTemplate","StreamingConfig","HackInfo","StreamingPlayer","snackbarMessage","_l","color","description","properties","ServiceStatusFactory","statusProperties","serviceStatus","make","responses","Map","entries","VChip","sshConfig","SSHServer","userTableHeaders","sshUserConfig","users","scopedSlots","_u","fn","_g","showNewUserDialog","isSaving","addUser","proxy","item","deleteUser","username","systemUsername","sortable","addEntity","deleteEntity","VDataTable","VDialog","VTextField","SshSftpGeneralConfig","SshSftpUserManagement","ServiceInfo","use","routes","path","Dashboard","router","theme","dark","productionTip","vuetify","render","App","$mount"],"mappings":"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","file":"js/app.df0de765.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/* eslint-disable */\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Wfs = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require('../events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _eventHandler = require('../event-handler');\n\nvar _eventHandler2 = _interopRequireDefault(_eventHandler);\n\nvar _errors = require('../errors');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Buffer Controller\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */\n\nvar BufferController = function (_EventHandler) {\n  _inherits(BufferController, _EventHandler);\n\n  function BufferController(wfs) {\n    _classCallCheck(this, BufferController);\n\n    var _this = _possibleConstructorReturn(this, (BufferController.__proto__ || Object.getPrototypeOf(BufferController)).call(this, wfs, _events2.default.MEDIA_ATTACHING, _events2.default.BUFFER_APPENDING, _events2.default.BUFFER_RESET));\n\n    _this.mediaSource = null;\n    _this.media = null;\n    _this.pendingTracks = {};\n    _this.sourceBuffer = {};\n    _this.segments = [];\n\n    _this.appended = 0;\n    _this._msDuration = null;\n\n    // Source Buffer listeners\n    _this.onsbue = _this.onSBUpdateEnd.bind(_this);\n\n    _this.browserType = 0;\n    if (navigator.userAgent.toLowerCase().indexOf('firefox') !== -1) {\n      _this.browserType = 1;\n    }\n    _this.mediaType = 'H264Raw';\n    return _this;\n  }\n\n  _createClass(BufferController, [{\n    key: 'destroy',\n    value: function destroy() {\n      _eventHandler2.default.prototype.destroy.call(this);\n    }\n  }, {\n    key: 'onMediaAttaching',\n    value: function onMediaAttaching(data) {\n      var media = this.media = data.media;\n      this.mediaType = data.mediaType;\n      if (media) {\n        // setup the media source\n        var ms = this.mediaSource = new MediaSource();\n        //Media Source listeners\n        this.onmso = this.onMediaSourceOpen.bind(this);\n        this.onmse = this.onMediaSourceEnded.bind(this);\n        this.onmsc = this.onMediaSourceClose.bind(this);\n        ms.addEventListener('sourceopen', this.onmso);\n        ms.addEventListener('sourceended', this.onmse);\n        ms.addEventListener('sourceclose', this.onmsc);\n        // link video and media Source\n        media.src = URL.createObjectURL(ms);\n      }\n    }\n  }, {\n    key: 'onMediaDetaching',\n    value: function onMediaDetaching() {}\n  }, {\n    key: 'onBufferAppending',\n    value: function onBufferAppending(data) {\n      if (!this.segments) {\n        this.segments = [data];\n      } else {\n        this.segments.push(data);\n      }\n      this.doAppending();\n    }\n  }, {\n    key: 'onMediaSourceClose',\n    value: function onMediaSourceClose() {\n      console.log('media source closed');\n    }\n  }, {\n    key: 'onMediaSourceEnded',\n    value: function onMediaSourceEnded() {\n      console.log('media source ended');\n    }\n  }, {\n    key: 'onSBUpdateEnd',\n    value: function onSBUpdateEnd(event) {\n      // Firefox\n      if (this.browserType === 1) {\n        this.mediaSource.endOfStream();\n        this.media.play();\n      }\n\n      this.appending = false;\n      this.doAppending();\n      this.updateMediaElementDuration();\n    }\n  }, {\n    key: 'updateMediaElementDuration',\n    value: function updateMediaElementDuration() {}\n  }, {\n    key: 'onMediaSourceOpen',\n    value: function onMediaSourceOpen() {\n      var mediaSource = this.mediaSource;\n      if (mediaSource) {\n        // once received, don't listen anymore to sourceopen event\n        mediaSource.removeEventListener('sourceopen', this.onmso);\n      }\n\n      if (this.mediaType === 'FMp4') {\n        this.checkPendingTracks();\n      }\n    }\n  }, {\n    key: 'checkPendingTracks',\n    value: function checkPendingTracks() {\n      this.createSourceBuffers({ tracks: 'video', mimeType: '' });\n      this.pendingTracks = {};\n    }\n  }, {\n    key: 'onBufferReset',\n    value: function onBufferReset(data) {\n      if (this.mediaType === 'H264Raw') {\n        this.createSourceBuffers({ tracks: 'video', mimeType: data.mimeType });\n      }\n    }\n  }, {\n    key: 'createSourceBuffers',\n    value: function createSourceBuffers(tracks) {\n      var sourceBuffer = this.sourceBuffer,\n          mediaSource = this.mediaSource;\n      var mimeType = void 0;\n      if (tracks.mimeType === '') {\n        mimeType = 'video/mp4;codecs=avc1.420028'; // avc1.42c01f avc1.42801e avc1.640028 avc1.420028\n      } else {\n        mimeType = 'video/mp4;codecs=' + tracks.mimeType;\n      }\n\n      try {\n        var sb = sourceBuffer['video'] = mediaSource.addSourceBuffer(mimeType);\n        sb.addEventListener('updateend', this.onsbue);\n        track.buffer = sb;\n      } catch (err) {}\n      this.wfs.trigger(_events2.default.BUFFER_CREATED, { tracks: tracks });\n      this.media.play();\n    }\n  }, {\n    key: 'appendMp4buffer',\n    value: function appendMp4buffer(data) {\n      var oldBuf = this.wfs.mp4buffer;\n      this.wfs.mp4buffer = new Uint8Array(oldBuf.byteLength + data.byteLength);\n      this.wfs.mp4buffer.set(oldBuf);\n      this.wfs.mp4buffer.set(data, oldBuf.byteLength);\n    }\n  }, {\n    key: 'doAppending',\n    value: function doAppending() {\n\n      var wfs = this.wfs,\n          sourceBuffer = this.sourceBuffer,\n          segments = this.segments;\n      if (Object.keys(sourceBuffer).length) {\n\n        if (this.media.error) {\n          this.segments = [];\n          console.log('trying to append although a media error occured, flush segment and abort');\n          return;\n        }\n        if (this.appending) {\n          return;\n        }\n\n        if (segments && segments.length) {\n          var segment = segments.shift();\n          try {\n            if (sourceBuffer[segment.type]) {\n              this.parent = segment.parent;\n              sourceBuffer[segment.type].appendBuffer(segment.data);\n              // this.appendMp4buffer(segment.data);\n              this.appendError = 0;\n              this.appended++;\n              this.appending = true;\n            } else {}\n          } catch (err) {\n            // in case any error occured while appending, put back segment in segments table \n            segments.unshift(segment);\n            var event = { type: _errors.ErrorTypes.MEDIA_ERROR };\n            if (err.code !== 22) {\n              if (this.appendError) {\n                this.appendError++;\n              } else {\n                this.appendError = 1;\n              }\n              event.details = _errors.ErrorDetails.BUFFER_APPEND_ERROR;\n              event.frag = this.fragCurrent;\n              if (this.appendError > wfs.config.appendErrorMaxRetry) {\n                segments = [];\n                event.fatal = true;\n                return;\n              } else {\n                event.fatal = false;\n              }\n            } else {\n              this.segments = [];\n              event.details = _errors.ErrorDetails.BUFFER_FULL_ERROR;\n              console.log(\"buffer full flag === true\");\n              return;\n            }\n          }\n        }\n      }\n    }\n  }]);\n\n  return BufferController;\n}(_eventHandler2.default);\n\nexports.default = BufferController;\n\n},{\"../errors\":6,\"../event-handler\":7,\"../events\":8}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require('../events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _eventHandler = require('../event-handler');\n\nvar _eventHandler2 = _interopRequireDefault(_eventHandler);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Flow Controller\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */\n\nvar FlowController = function (_EventHandler) {\n  _inherits(FlowController, _EventHandler);\n\n  function FlowController(wfs) {\n    _classCallCheck(this, FlowController);\n\n    var _this = _possibleConstructorReturn(this, (FlowController.__proto__ || Object.getPrototypeOf(FlowController)).call(this, wfs, _events2.default.BUFFER_CREATED, _events2.default.FILE_PARSING_DATA, _events2.default.FILE_HEAD_LOADED, _events2.default.FILE_DATA_LOADED, _events2.default.WEBSOCKET_ATTACHED, _events2.default.FRAG_PARSING_DATA, _events2.default.FRAG_PARSING_INIT_SEGMENT));\n\n    _this.fileStart = 0;\n    _this.fileEnd = 0;\n    _this.pendingAppending = 0;\n    _this.mediaType = undefined;\n    return _this;\n  }\n\n  _createClass(FlowController, [{\n    key: 'destroy',\n    value: function destroy() {\n      _eventHandler2.default.prototype.destroy.call(this);\n    }\n  }, {\n    key: 'onBufferCreated',\n    value: function onBufferCreated(data) {\n      this.mediaType = data.mediaType;\n    }\n  }, {\n    key: 'onFileHeadLoaded',\n    value: function onFileHeadLoaded(data) {}\n  }, {\n    key: 'onFileDataLoaded',\n    value: function onFileDataLoaded(data) {}\n  }, {\n    key: 'onFileParsingData',\n    value: function onFileParsingData(data) {}\n  }, {\n    key: 'onWebsocketAttached',\n    value: function onWebsocketAttached(data) {\n      this.wfs.trigger(_events2.default.BUFFER_APPENDING, { type: 'video', data: data.payload, parent: 'main' });\n    }\n  }, {\n    key: 'onFragParsingInitSegment',\n    value: function onFragParsingInitSegment(data) {\n      var tracks = data.tracks,\n          trackName,\n          track;\n\n      track = tracks.video;\n      if (track) {\n        track.id = data.id;\n      }\n\n      for (trackName in tracks) {\n        track = tracks[trackName];\n        var initSegment = track.initSegment;\n        if (initSegment) {\n          this.pendingAppending++;\n          this.wfs.trigger(_events2.default.BUFFER_APPENDING, { type: trackName, data: initSegment, parent: 'main' });\n        }\n      }\n    }\n  }, {\n    key: 'onFragParsingData',\n    value: function onFragParsingData(data) {\n      var _this2 = this;\n\n      if (data.type === 'video') {}\n\n      [data.data1, data.data2].forEach(function (buffer) {\n        if (buffer) {\n          _this2.pendingAppending++;\n          _this2.wfs.trigger(_events2.default.BUFFER_APPENDING, { type: data.type, data: buffer, parent: 'main' });\n        }\n      });\n    }\n  }]);\n\n  return FlowController;\n}(_eventHandler2.default);\n\nexports.default = FlowController;\n\n},{\"../event-handler\":7,\"../events\":8}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Parser for exponential Golomb codes, a variable-bitwidth number encoding scheme used by h264.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */\n\nvar _logger = require('../utils/logger');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ExpGolomb = function () {\n  function ExpGolomb(data) {\n    _classCallCheck(this, ExpGolomb);\n\n    this.data = data;\n    // the number of bytes left to examine in this.data\n    this.bytesAvailable = this.data.byteLength;\n    // the current word being examined\n    this.word = 0; // :uint\n    // the number of bits left to examine in the current word\n    this.bitsAvailable = 0; // :uint\n  }\n\n  // ():void\n\n\n  _createClass(ExpGolomb, [{\n    key: 'loadWord',\n    value: function loadWord() {\n      var position = this.data.byteLength - this.bytesAvailable,\n          workingBytes = new Uint8Array(4),\n          availableBytes = Math.min(4, this.bytesAvailable);\n      if (availableBytes === 0) {\n        throw new Error('no bytes available');\n      }\n      workingBytes.set(this.data.subarray(position, position + availableBytes));\n      this.word = new DataView(workingBytes.buffer).getUint32(0);\n      // track the amount of this.data that has been processed\n      this.bitsAvailable = availableBytes * 8;\n      this.bytesAvailable -= availableBytes;\n    }\n\n    // (count:int):void\n\n  }, {\n    key: 'skipBits',\n    value: function skipBits(count) {\n      var skipBytes; // :int\n      if (this.bitsAvailable > count) {\n        this.word <<= count;\n        this.bitsAvailable -= count;\n      } else {\n        count -= this.bitsAvailable;\n        skipBytes = count >> 3;\n        count -= skipBytes >> 3;\n        this.bytesAvailable -= skipBytes;\n        this.loadWord();\n        this.word <<= count;\n        this.bitsAvailable -= count;\n      }\n    }\n\n    // (size:int):uint\n\n  }, {\n    key: 'readBits',\n    value: function readBits(size) {\n      var bits = Math.min(this.bitsAvailable, size),\n          // :uint\n      valu = this.word >>> 32 - bits; // :uint\n      if (size > 32) {\n        _logger.logger.error('Cannot read more than 32 bits at a time');\n      }\n      this.bitsAvailable -= bits;\n      if (this.bitsAvailable > 0) {\n        this.word <<= bits;\n      } else if (this.bytesAvailable > 0) {\n        this.loadWord();\n      }\n      bits = size - bits;\n      if (bits > 0) {\n        return valu << bits | this.readBits(bits);\n      } else {\n        return valu;\n      }\n    }\n\n    // ():uint\n\n  }, {\n    key: 'skipLZ',\n    value: function skipLZ() {\n      var leadingZeroCount; // :uint\n      for (leadingZeroCount = 0; leadingZeroCount < this.bitsAvailable; ++leadingZeroCount) {\n        if (0 !== (this.word & 0x80000000 >>> leadingZeroCount)) {\n          // the first bit of working word is 1\n          this.word <<= leadingZeroCount;\n          this.bitsAvailable -= leadingZeroCount;\n          return leadingZeroCount;\n        }\n      }\n      // we exhausted word and still have not found a 1\n      this.loadWord();\n      return leadingZeroCount + this.skipLZ();\n    }\n\n    // ():void\n\n  }, {\n    key: 'skipUEG',\n    value: function skipUEG() {\n      this.skipBits(1 + this.skipLZ());\n    }\n\n    // ():void\n\n  }, {\n    key: 'skipEG',\n    value: function skipEG() {\n      this.skipBits(1 + this.skipLZ());\n    }\n\n    // ():uint\n\n  }, {\n    key: 'readUEG',\n    value: function readUEG() {\n      var clz = this.skipLZ(); // :uint\n      return this.readBits(clz + 1) - 1;\n    }\n\n    // ():int\n\n  }, {\n    key: 'readEG',\n    value: function readEG() {\n      var valu = this.readUEG(); // :int\n      if (0x01 & valu) {\n        // the number is odd if the low order bit is set\n        return 1 + valu >>> 1; // add 1 to make it even, and divide by 2\n      } else {\n        return -1 * (valu >>> 1); // divide by two then make it negative\n      }\n    }\n\n    // Some convenience functions\n    // :Boolean\n\n  }, {\n    key: 'readBoolean',\n    value: function readBoolean() {\n      return 1 === this.readBits(1);\n    }\n\n    // ():int\n\n  }, {\n    key: 'readUByte',\n    value: function readUByte() {\n      return this.readBits(8);\n    }\n\n    // ():int\n\n  }, {\n    key: 'readUShort',\n    value: function readUShort() {\n      return this.readBits(16);\n    }\n    // ():int\n\n  }, {\n    key: 'readUInt',\n    value: function readUInt() {\n      return this.readBits(32);\n    }\n\n    /**\n     * Advance the ExpGolomb decoder past a scaling list. The scaling\n     * list is optionally transmitted as part of a sequence parameter\n     * set and is not relevant to transmuxing.\n     * @param count {number} the number of entries in this scaling list\n     * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1\n     */\n\n  }, {\n    key: 'skipScalingList',\n    value: function skipScalingList(count) {\n      var lastScale = 8,\n          nextScale = 8,\n          j,\n          deltaScale;\n      for (j = 0; j < count; j++) {\n        if (nextScale !== 0) {\n          deltaScale = this.readEG();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n        lastScale = nextScale === 0 ? lastScale : nextScale;\n      }\n    }\n\n    /**\n     * Read a sequence parameter set and return some interesting video\n     * properties. A sequence parameter set is the H264 metadata that\n     * describes the properties of upcoming video frames.\n     * @param data {Uint8Array} the bytes of a sequence parameter set\n     * @return {object} an object with configuration parsed from the\n     * sequence parameter set, including the dimensions of the\n     * associated video frames.\n     */\n\n  }, {\n    key: 'readSPS',\n    value: function readSPS() {\n      var frameCropLeftOffset = 0,\n          frameCropRightOffset = 0,\n          frameCropTopOffset = 0,\n          frameCropBottomOffset = 0,\n          sarScale = 1,\n          profileIdc,\n          profileCompat,\n          levelIdc,\n          numRefFramesInPicOrderCntCycle,\n          picWidthInMbsMinus1,\n          picHeightInMapUnitsMinus1,\n          frameMbsOnlyFlag,\n          scalingListCount,\n          i;\n      this.readUByte();\n      profileIdc = this.readUByte(); // profile_idc\n      profileCompat = this.readBits(5); // constraint_set[0-4]_flag, u(5)\n      this.skipBits(3); // reserved_zero_3bits u(3),\n      levelIdc = this.readUByte(); //level_idc u(8)\n      this.skipUEG(); // seq_parameter_set_id\n      // some profiles have more optional data we don't need\n      if (profileIdc === 100 || profileIdc === 110 || profileIdc === 122 || profileIdc === 244 || profileIdc === 44 || profileIdc === 83 || profileIdc === 86 || profileIdc === 118 || profileIdc === 128) {\n        var chromaFormatIdc = this.readUEG();\n        if (chromaFormatIdc === 3) {\n          this.skipBits(1); // separate_colour_plane_flag\n        }\n        this.skipUEG(); // bit_depth_luma_minus8\n        this.skipUEG(); // bit_depth_chroma_minus8\n        this.skipBits(1); // qpprime_y_zero_transform_bypass_flag\n        if (this.readBoolean()) {\n          // seq_scaling_matrix_present_flag\n          scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n          for (i = 0; i < scalingListCount; i++) {\n            if (this.readBoolean()) {\n              // seq_scaling_list_present_flag[ i ]\n              if (i < 6) {\n                this.skipScalingList(16);\n              } else {\n                this.skipScalingList(64);\n              }\n            }\n          }\n        }\n      }\n      this.skipUEG(); // log2_max_frame_num_minus4\n      var picOrderCntType = this.readUEG();\n      if (picOrderCntType === 0) {\n        this.readUEG(); //log2_max_pic_order_cnt_lsb_minus4\n      } else if (picOrderCntType === 1) {\n        this.skipBits(1); // delta_pic_order_always_zero_flag\n        this.skipEG(); // offset_for_non_ref_pic\n        this.skipEG(); // offset_for_top_to_bottom_field\n        numRefFramesInPicOrderCntCycle = this.readUEG();\n        for (i = 0; i < numRefFramesInPicOrderCntCycle; i++) {\n          this.skipEG(); // offset_for_ref_frame[ i ]\n        }\n      }\n      this.skipUEG(); // max_num_ref_frames\n      this.skipBits(1); // gaps_in_frame_num_value_allowed_flag\n      picWidthInMbsMinus1 = this.readUEG();\n      picHeightInMapUnitsMinus1 = this.readUEG();\n      frameMbsOnlyFlag = this.readBits(1);\n      if (frameMbsOnlyFlag === 0) {\n        this.skipBits(1); // mb_adaptive_frame_field_flag\n      }\n      this.skipBits(1); // direct_8x8_inference_flag\n      if (this.readBoolean()) {\n        // frame_cropping_flag\n        frameCropLeftOffset = this.readUEG();\n        frameCropRightOffset = this.readUEG();\n        frameCropTopOffset = this.readUEG();\n        frameCropBottomOffset = this.readUEG();\n      }\n      if (this.readBoolean()) {\n        // vui_parameters_present_flag\n        if (this.readBoolean()) {\n          // aspect_ratio_info_present_flag\n          var sarRatio = void 0;\n          var aspectRatioIdc = this.readUByte();\n          switch (aspectRatioIdc) {\n            case 1:\n              sarRatio = [1, 1];break;\n            case 2:\n              sarRatio = [12, 11];break;\n            case 3:\n              sarRatio = [10, 11];break;\n            case 4:\n              sarRatio = [16, 11];break;\n            case 5:\n              sarRatio = [40, 33];break;\n            case 6:\n              sarRatio = [24, 11];break;\n            case 7:\n              sarRatio = [20, 11];break;\n            case 8:\n              sarRatio = [32, 11];break;\n            case 9:\n              sarRatio = [80, 33];break;\n            case 10:\n              sarRatio = [18, 11];break;\n            case 11:\n              sarRatio = [15, 11];break;\n            case 12:\n              sarRatio = [64, 33];break;\n            case 13:\n              sarRatio = [160, 99];break;\n            case 14:\n              sarRatio = [4, 3];break;\n            case 15:\n              sarRatio = [3, 2];break;\n            case 16:\n              sarRatio = [2, 1];break;\n            case 255:\n              {\n                sarRatio = [this.readUByte() << 8 | this.readUByte(), this.readUByte() << 8 | this.readUByte()];\n                break;\n              }\n          }\n          if (sarRatio) {\n            sarScale = sarRatio[0] / sarRatio[1];\n          }\n        }\n      }\n      return {\n        width: Math.ceil(((picWidthInMbsMinus1 + 1) * 16 - frameCropLeftOffset * 2 - frameCropRightOffset * 2) * sarScale),\n        height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - (frameMbsOnlyFlag ? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset)\n      };\n    }\n  }, {\n    key: 'readSliceType',\n    value: function readSliceType() {\n      // skip NALu type\n      this.readUByte();\n      // discard first_mb_in_slice\n      this.readUEG();\n      // return slice_type\n      return this.readUEG();\n    }\n  }]);\n\n  return ExpGolomb;\n}();\n\nexports.default = ExpGolomb;\n\n},{\"../utils/logger\":15}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require('../events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _expGolomb = require('./exp-golomb');\n\nvar _expGolomb2 = _interopRequireDefault(_expGolomb);\n\nvar _eventHandler = require('../event-handler');\n\nvar _eventHandler2 = _interopRequireDefault(_eventHandler);\n\nvar _mp4Remuxer = require('../remux/mp4-remuxer');\n\nvar _mp4Remuxer2 = _interopRequireDefault(_mp4Remuxer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */\n\n\nvar h264Demuxer = function (_EventHandler) {\n  _inherits(h264Demuxer, _EventHandler);\n\n  function h264Demuxer(wfs) {\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, h264Demuxer);\n\n    var _this = _possibleConstructorReturn(this, (h264Demuxer.__proto__ || Object.getPrototypeOf(h264Demuxer)).call(this, wfs, _events2.default.H264_DATA_PARSED));\n\n    _this.config = _this.wfs.config || config;\n    _this.wfs = wfs;\n    _this.id = 'main';\n    _this.keepParsing = true;\n\n    _this.remuxer = new _mp4Remuxer2.default(_this.wfs, _this.id, _this.config);\n    _this.contiguous = true;\n    _this.timeOffset = 1;\n    _this.sn = 0;\n    _this.TIMESCALE = 90000;\n    _this.timestamp = 0;\n    _this.scaleFactor = _this.TIMESCALE / 1000;\n    _this.H264_TIMEBASE = _this.TIMESCALE / _this.wfs.config.fps;\n    _this._avcTrack = { container: 'video/mp2t', type: 'video', id: 1, sequenceNumber: 0,\n      samples: [], len: 0, nbNalu: 0, dropped: 0, count: 0 };\n    _this.browserType = 0;\n    if (navigator.userAgent.toLowerCase().indexOf('firefox') !== -1) {\n      _this.browserType = 1;\n    }\n    return _this;\n  }\n\n  _createClass(h264Demuxer, [{\n    key: 'destroy',\n    value: function destroy() {\n      _eventHandler2.default.prototype.destroy.call(this);\n    }\n  }, {\n    key: 'getTimestampM',\n    value: function getTimestampM() {\n      this.timestamp += this.H264_TIMEBASE;\n      return this.timestamp;\n    }\n  }, {\n    key: 'onH264DataParsed',\n    value: function onH264DataParsed(event) {\n      this._parseAVCTrack(event.data);\n      // disable cache on all browser\n      // if (this.browserType === 1 || this._avcTrack.samples.length >= 20){ // Firefox\n      this.remuxer.pushVideo(0, this.sn, this._avcTrack, this.timeOffset, this.contiguous);\n      this.sn += 1;\n      // }\n    }\n  }, {\n    key: '_parseAVCTrack',\n    value: function _parseAVCTrack(array) {\n      var _this2 = this;\n\n      var track = this._avcTrack,\n          samples = track.samples,\n          units = this._parseAVCNALu(array),\n          units2 = [],\n          debug = false,\n          key = false,\n          length = 0,\n          expGolombDecoder,\n          avcSample,\n          push,\n          i;\n      var debugString = '';\n      var pushAccesUnit = function () {\n        if (units2.length) {\n          if (!this.config.forceKeyFrameOnDiscontinuity || key === true || track.sps && (samples.length || this.contiguous)) {\n\n            if (this.wfs.config.paused === true && this.keepParsing === true) {\n              this.keepParsing = false;\n              console.log(\"wfs.js paused\");\n            }\n            if (this.wfs.config.paused === false && this.keepParsing == false) {\n              if (key === true) {\n                this.keepParsing = true;\n                console.log(\"wfs.js resumed\");\n              }\n            }\n            if (this.keepParsing === true) {\n              var tss = this.getTimestampM();\n              avcSample = { units: { units: units2, length: length }, pts: tss, dts: tss, key: key };\n              samples.push(avcSample);\n              track.len += length;\n              track.nbNalu += units2.length;\n            }\n          } else {\n            track.dropped++;\n          }\n          units2 = [];\n          length = 0;\n        }\n      }.bind(this);\n\n      units.forEach(function (unit) {\n        switch (unit.type) {\n          //NDR\n          case 1:\n            push = true;\n            if (debug) {\n              debugString += 'NDR ';\n            }\n            break;\n          //IDR\n          case 5:\n            push = true;\n            if (debug) {\n              debugString += 'IDR ';\n            }\n            key = true;\n            break;\n          //SEI\n          case 6:\n            unit.data = _this2.discardEPB(unit.data);\n            expGolombDecoder = new _expGolomb2.default(unit.data);\n            // skip frameType\n            expGolombDecoder.readUByte();\n            break;\n          //SPS\n          case 7:\n            push = false;\n            if (debug) {\n              debugString += 'SPS ';\n            }\n            if (!track.sps) {\n              expGolombDecoder = new _expGolomb2.default(unit.data);\n              var config = expGolombDecoder.readSPS();\n              track.width = config.width;\n              track.height = config.height;\n              track.sps = [unit.data];\n              track.duration = 0;\n              var codecarray = unit.data.subarray(1, 4);\n              var codecstring = 'avc1.';\n              for (i = 0; i < 3; i++) {\n                var h = codecarray[i].toString(16);\n                if (h.length < 2) {\n                  h = '0' + h;\n                }\n                codecstring += h;\n              }\n              track.codec = codecstring;\n              _this2.wfs.trigger(_events2.default.BUFFER_RESET, { mimeType: track.codec });\n              push = true;\n            }\n            break;\n          //PPS\n          case 8:\n            push = false;\n            if (debug) {\n              debugString += 'PPS ';\n            }\n            if (!track.pps) {\n              track.pps = [unit.data];\n              push = true;\n            }\n            break;\n          case 9:\n            push = false;\n            if (debug) {\n              debugString += 'AUD ';\n            }\n            pushAccesUnit();\n            break;\n          default:\n            push = false;\n            debugString += 'unknown NAL ' + unit.type + ' ';\n            break;\n        }\n\n        if (push) {\n          units2.push(unit);\n          length += unit.data.byteLength;\n        }\n      });\n\n      if (debug || debugString.length) {\n        logger.log(debugString);\n      }\n\n      pushAccesUnit();\n    }\n  }, {\n    key: '_parseAVCNALu',\n    value: function _parseAVCNALu(array) {\n      var i = 0,\n          len = array.byteLength,\n          value,\n          overflow,\n          state = 0; //state = this.avcNaluState;\n      var units = [],\n          unit,\n          unitType,\n          lastUnitStart,\n          lastUnitType;\n      while (i < len) {\n        value = array[i++];\n        // finding 3 or 4-byte start codes (00 00 01 OR 00 00 00 01)\n        switch (state) {\n          case 0:\n            if (value === 0) {\n              state = 1;\n            }\n            break;\n          case 1:\n            if (value === 0) {\n              state = 2;\n            } else {\n              state = 0;\n            }\n            break;\n          case 2:\n          case 3:\n            if (value === 0) {\n              state = 3;\n            } else if (value === 1 && i < len) {\n              unitType = array[i] & 0x1f;\n              if (lastUnitStart) {\n                unit = { data: array.subarray(lastUnitStart, i - state - 1), type: lastUnitType };\n                units.push(unit);\n              } else {}\n              lastUnitStart = i;\n              lastUnitType = unitType;\n              state = 0;\n            } else {\n              state = 0;\n            }\n            break;\n          default:\n            break;\n        }\n      }\n\n      if (lastUnitStart) {\n        unit = { data: array.subarray(lastUnitStart, len), type: lastUnitType, state: state };\n        units.push(unit);\n      }\n\n      return units;\n    }\n\n    /**\n     * remove Emulation Prevention bytes from a RBSP\n     */\n\n  }, {\n    key: 'discardEPB',\n    value: function discardEPB(data) {\n      var length = data.byteLength,\n          EPBPositions = [],\n          i = 1,\n          newLength,\n          newData;\n      // Find all `Emulation Prevention Bytes`\n      while (i < length - 2) {\n        if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n          EPBPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      }\n      // If no Emulation Prevention Bytes were found just return the original\n      // array\n      if (EPBPositions.length === 0) {\n        return data;\n      }\n      // Create a new array to hold the NAL unit data\n      newLength = length - EPBPositions.length;\n      newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === EPBPositions[0]) {\n          // Skip this byte\n          sourceIndex++;\n          // Remove this position index\n          EPBPositions.shift();\n        }\n        newData[i] = data[sourceIndex];\n      }\n      return newData;\n    }\n  }]);\n\n  return h264Demuxer;\n}(_eventHandler2.default);\n\nexports.default = h264Demuxer;\n\n},{\"../event-handler\":7,\"../events\":8,\"../remux/mp4-remuxer\":13,\"./exp-golomb\":4}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar ErrorTypes = exports.ErrorTypes = {\n  // Identifier for a network error (loading error / timeout ...)\n  NETWORK_ERROR: 'networkError',\n  // Identifier for a media Error (video/parsing/mediasource error)\n  MEDIA_ERROR: 'mediaError',\n  // Identifier for all other errors\n  OTHER_ERROR: 'otherError'\n};\n\nvar ErrorDetails = exports.ErrorDetails = {\n  // Identifier for a manifest load error - data: { url : faulty URL, response : { code: error code, text: error text }}\n  MANIFEST_LOAD_ERROR: 'manifestLoadError',\n  // Identifier for a manifest load timeout - data: { url : faulty URL, response : { code: error code, text: error text }}\n  MANIFEST_LOAD_TIMEOUT: 'manifestLoadTimeOut',\n  // Identifier for a manifest parsing error - data: { url : faulty URL, reason : error reason}\n  MANIFEST_PARSING_ERROR: 'manifestParsingError',\n  // Identifier for a manifest with only incompatible codecs error - data: { url : faulty URL, reason : error reason}\n  MANIFEST_INCOMPATIBLE_CODECS_ERROR: 'manifestIncompatibleCodecsError',\n  // Identifier for a level load error - data: { url : faulty URL, response : { code: error code, text: error text }}\n  LEVEL_LOAD_ERROR: 'levelLoadError',\n  // Identifier for a level load timeout - data: { url : faulty URL, response : { code: error code, text: error text }}\n  LEVEL_LOAD_TIMEOUT: 'levelLoadTimeOut',\n  // Identifier for a level switch error - data: { level : faulty level Id, event : error description}\n  LEVEL_SWITCH_ERROR: 'levelSwitchError',\n  // Identifier for an audio track load error - data: { url : faulty URL, response : { code: error code, text: error text }}\n  AUDIO_TRACK_LOAD_ERROR: 'audioTrackLoadError',\n  // Identifier for an audio track load timeout - data: { url : faulty URL, response : { code: error code, text: error text }}\n  AUDIO_TRACK_LOAD_TIMEOUT: 'audioTrackLoadTimeOut',\n  // Identifier for fragment load error - data: { frag : fragment object, response : { code: error code, text: error text }}\n  FRAG_LOAD_ERROR: 'fragLoadError',\n  // Identifier for fragment loop loading error - data: { frag : fragment object}\n  FRAG_LOOP_LOADING_ERROR: 'fragLoopLoadingError',\n  // Identifier for fragment load timeout error - data: { frag : fragment object}\n  FRAG_LOAD_TIMEOUT: 'fragLoadTimeOut',\n  // Identifier for a fragment decryption error event - data: parsing error description\n  FRAG_DECRYPT_ERROR: 'fragDecryptError',\n  // Identifier for a fragment parsing error event - data: parsing error description\n  FRAG_PARSING_ERROR: 'fragParsingError',\n  // Identifier for decrypt key load error - data: { frag : fragment object, response : { code: error code, text: error text }}\n  KEY_LOAD_ERROR: 'keyLoadError',\n  // Identifier for decrypt key load timeout error - data: { frag : fragment object}\n  KEY_LOAD_TIMEOUT: 'keyLoadTimeOut',\n  // Triggered when an exception occurs while adding a sourceBuffer to MediaSource - data : {  err : exception , mimeType : mimeType }\n  BUFFER_ADD_CODEC_ERROR: 'bufferAddCodecError',\n  // Identifier for a buffer append error - data: append error description\n  BUFFER_APPEND_ERROR: 'bufferAppendError',\n  // Identifier for a buffer appending error event - data: appending error description\n  BUFFER_APPENDING_ERROR: 'bufferAppendingError',\n  // Identifier for a buffer stalled error event\n  BUFFER_STALLED_ERROR: 'bufferStalledError',\n  // Identifier for a buffer full event\n  BUFFER_FULL_ERROR: 'bufferFullError',\n  // Identifier for a buffer seek over hole event\n  BUFFER_SEEK_OVER_HOLE: 'bufferSeekOverHole',\n  // Identifier for an internal exception happening inside hls.js while handling an event\n  INTERNAL_EXCEPTION: 'internalException'\n};\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * All objects in the event handling chain should inherit from this class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */\n\n\nvar _events = require('./events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EventHandler = function () {\n  function EventHandler(wfs) {\n    _classCallCheck(this, EventHandler);\n\n    this.wfs = wfs;\n    this.onEvent = this.onEvent.bind(this);\n\n    for (var _len = arguments.length, events = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      events[_key - 1] = arguments[_key];\n    }\n\n    this.handledEvents = events;\n    this.useGenericHandler = true;\n\n    this.registerListeners();\n  }\n\n  _createClass(EventHandler, [{\n    key: 'destroy',\n    value: function destroy() {\n      this.unregisterListeners();\n    }\n  }, {\n    key: 'isEventHandler',\n    value: function isEventHandler() {\n      return _typeof(this.handledEvents) === 'object' && this.handledEvents.length && typeof this.onEvent === 'function';\n    }\n  }, {\n    key: 'registerListeners',\n    value: function registerListeners() {\n      if (this.isEventHandler()) {\n        this.handledEvents.forEach(function (event) {\n          if (event === 'wfsEventGeneric') {\n            //throw new Error('Forbidden event name: ' + event);\n          }\n          this.wfs.on(event, this.onEvent);\n        }.bind(this));\n      }\n    }\n  }, {\n    key: 'unregisterListeners',\n    value: function unregisterListeners() {\n      if (this.isEventHandler()) {\n        this.handledEvents.forEach(function (event) {\n          this.wfs.off(event, this.onEvent);\n        }.bind(this));\n      }\n    }\n\n    /**\n     * arguments: event (string), data (any)\n     */\n\n  }, {\n    key: 'onEvent',\n    value: function onEvent(event, data) {\n      this.onEventGeneric(event, data);\n    }\n  }, {\n    key: 'onEventGeneric',\n    value: function onEventGeneric(event, data) {\n      var eventToFunction = function eventToFunction(event, data) {\n        var funcName = 'on' + event.replace('wfs', '');\n        if (typeof this[funcName] !== 'function') {\n          //throw new Error(`Event ${event} has no generic handler in this ${this.constructor.name} class (tried ${funcName})`);\n        }\n        return this[funcName].bind(this, data);\n      };\n      try {\n        eventToFunction.call(this, event, data).call();\n      } catch (err) {\n        console.log('internal error happened while processing ' + event + ':' + err.message);\n        //   this.hls.trigger(Event.ERROR, {type: ErrorTypes.OTHER_ERROR, details: ErrorDetails.INTERNAL_EXCEPTION, fatal: false, event : event, err : err});\n      }\n    }\n  }]);\n\n  return EventHandler;\n}();\n\nexports.default = EventHandler;\n\n},{\"./events\":8}],8:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n\n  MEDIA_ATTACHING: 'wfsMediaAttaching',\n\n  FRAG_LOADING: 'wfsFragLoading',\n\n  BUFFER_CREATED: 'wfsBufferCreated',\n\n  BUFFER_APPENDING: 'wfsBufferAppending',\n\n  BUFFER_RESET: 'wfsBufferReset',\n\n  FRAG_PARSING_DATA: 'wfsFragParsingData',\n\n  FRAG_PARSING_INIT_SEGMENT: 'wfsFragParsingInitSegment',\n  //------------------------------------------\n  H264_DATA_PARSING: 'wfsH264DataParsing',\n\n  H264_DATA_PARSED: 'wfsH264DataParsed',\n  //------------------------------------------\n  WEBSOCKET_ATTACHED: 'wfsWebsocketAttached',\n\n  //------------------------------------------\n  FILE_HEAD_LOADING: 'wfsFileHeadLoading',\n\n  FILE_HEAD_LOADED: 'wfsFileHeadLoaded',\n\n  FILE_DATA_LOADING: 'wfsFileDataLoading',\n\n  FILE_DATA_LOADED: 'wfsFileDataLoaded',\n\n  FILE_PARSING_DATA: 'wfsFileParsingData'\n  //------------------------------------------\n\n};\n\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n *  AAC helper\n */\n\nvar AAC = function () {\n  function AAC() {\n    _classCallCheck(this, AAC);\n  }\n\n  _createClass(AAC, null, [{\n    key: \"getSilentFrame\",\n    value: function getSilentFrame(channelCount) {\n      if (channelCount === 1) {\n        return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x23, 0x80]);\n      } else if (channelCount === 2) {\n        return new Uint8Array([0x21, 0x00, 0x49, 0x90, 0x02, 0x19, 0x00, 0x23, 0x80]);\n      } else if (channelCount === 3) {\n        return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x8e]);\n      } else if (channelCount === 4) {\n        return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x80, 0x2c, 0x80, 0x08, 0x02, 0x38]);\n      } else if (channelCount === 5) {\n        return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x38]);\n      } else if (channelCount === 6) {\n        return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x00, 0xb2, 0x00, 0x20, 0x08, 0xe0]);\n      }\n      return null;\n    }\n  }]);\n\n  return AAC;\n}();\n\nexports.default = AAC;\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\n// This is mostly for support of the es6 module export\n// syntax with the babel compiler, it looks like it doesnt support\n// function exports like we are used to in node/commonjs\nmodule.exports = require('./wfs.js').default;\n\n},{\"./wfs.js\":18}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require('../events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _eventHandler = require('../event-handler');\n\nvar _eventHandler2 = _interopRequireDefault(_eventHandler);\n\nvar _h264NalSlicesreader = require('../utils/h264-nal-slicesreader.js');\n\nvar _h264NalSlicesreader2 = _interopRequireDefault(_h264NalSlicesreader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Websocket Loader\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */\n\nvar WebsocketLoader = function (_EventHandler) {\n  _inherits(WebsocketLoader, _EventHandler);\n\n  function WebsocketLoader(wfs) {\n    _classCallCheck(this, WebsocketLoader);\n\n    var _this = _possibleConstructorReturn(this, (WebsocketLoader.__proto__ || Object.getPrototypeOf(WebsocketLoader)).call(this, wfs));\n\n    _this.wfs = wfs;\n    _this.buf = null;\n    _this.slicesReader = new _h264NalSlicesreader2.default(wfs);\n    return _this;\n  }\n\n  _createClass(WebsocketLoader, [{\n    key: 'destroy',\n    value: function destroy() {\n      this.slicesReader.destroy();\n      _eventHandler2.default.prototype.destroy.call(this);\n    }\n  }, {\n    key: 'receiveSocketMessage',\n    value: function receiveSocketMessage(data) {\n      this.buf = new Uint8Array(data);\n      var copy = new Uint8Array(this.buf);\n\n      if (this.wfs.mediaType === 'FMp4') {\n        this.wfs.trigger(_events2.default.WEBSOCKET_ATTACHED, { payload: copy });\n      }\n      if (this.wfs.mediaType === 'H264Raw') {\n        this.wfs.trigger(_events2.default.H264_DATA_PARSING, { data: copy });\n      }\n    }\n  }]);\n\n  return WebsocketLoader;\n}(_eventHandler2.default);\n\nexports.default = WebsocketLoader;\n\n},{\"../event-handler\":7,\"../events\":8,\"../utils/h264-nal-slicesreader.js\":14}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Generate MP4 Box\n*/\n\n//import Hex from '../utils/hex';\nvar MP4 = function () {\n  function MP4() {\n    _classCallCheck(this, MP4);\n  }\n\n  _createClass(MP4, null, [{\n    key: 'init',\n    value: function init() {\n      MP4.types = {\n        avc1: [], // codingname\n        avcC: [],\n        btrt: [],\n        dinf: [],\n        dref: [],\n        esds: [],\n        ftyp: [],\n        hdlr: [],\n        mdat: [],\n        mdhd: [],\n        mdia: [],\n        mfhd: [],\n        minf: [],\n        moof: [],\n        moov: [],\n        mp4a: [],\n        mvex: [],\n        mvhd: [],\n        sdtp: [],\n        stbl: [],\n        stco: [],\n        stsc: [],\n        stsd: [],\n        stsz: [],\n        stts: [],\n        tfdt: [],\n        tfhd: [],\n        traf: [],\n        trak: [],\n        trun: [],\n        trex: [],\n        tkhd: [],\n        vmhd: [],\n        smhd: []\n      };\n\n      var i;\n      for (i in MP4.types) {\n        if (MP4.types.hasOwnProperty(i)) {\n          MP4.types[i] = [i.charCodeAt(0), i.charCodeAt(1), i.charCodeAt(2), i.charCodeAt(3)];\n        }\n      }\n\n      var videoHdlr = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // pre_defined\n      0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x56, 0x69, 0x64, 0x65, 0x6f, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'VideoHandler'\n      ]);\n\n      var audioHdlr = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // pre_defined\n      0x73, 0x6f, 0x75, 0x6e, // handler_type: 'soun'\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x53, 0x6f, 0x75, 0x6e, 0x64, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'SoundHandler'\n      ]);\n\n      MP4.HDLR_TYPES = {\n        'video': videoHdlr,\n        'audio': audioHdlr\n      };\n\n      var dref = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x01, // entry_count\n      0x00, 0x00, 0x00, 0x0c, // entry_size\n      0x75, 0x72, 0x6c, 0x20, // 'url' type\n      0x00, // version 0\n      0x00, 0x00, 0x01 // entry_flags\n      ]);\n\n      var stco = new Uint8Array([0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00 // entry_count\n      ]);\n\n      MP4.STTS = MP4.STSC = MP4.STCO = stco;\n\n      MP4.STSZ = new Uint8Array([0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // sample_size\n      0x00, 0x00, 0x00, 0x00]);\n      MP4.VMHD = new Uint8Array([0x00, // version\n      0x00, 0x00, 0x01, // flags\n      0x00, 0x00, // graphicsmode\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00 // opcolor\n      ]);\n      MP4.SMHD = new Uint8Array([0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, // balance\n      0x00, 0x00 // reserved\n      ]);\n\n      MP4.STSD = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x01]); // entry_count\n\n      var majorBrand = new Uint8Array([105, 115, 111, 109]); // isom\n      var avc1Brand = new Uint8Array([97, 118, 99, 49]); // avc1\n      var minorVersion = new Uint8Array([0, 0, 0, 1]);\n\n      MP4.FTYP = MP4.box(MP4.types.ftyp, majorBrand, minorVersion, majorBrand, avc1Brand);\n      MP4.DINF = MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, dref));\n    }\n  }, {\n    key: 'box',\n    value: function box(type) {\n      var payload = Array.prototype.slice.call(arguments, 1),\n          size = 8,\n          i = payload.length,\n          len = i,\n          result;\n      // calculate the total size we need to allocate\n      while (i--) {\n        size += payload[i].byteLength;\n      }\n      result = new Uint8Array(size);\n      result[0] = size >> 24 & 0xff;\n      result[1] = size >> 16 & 0xff;\n      result[2] = size >> 8 & 0xff;\n      result[3] = size & 0xff;\n      result.set(type, 4);\n      // copy the payload into the result\n      for (i = 0, size = 8; i < len; i++) {\n        // copy payload[i] array @ offset size\n        result.set(payload[i], size);\n        size += payload[i].byteLength;\n      }\n      return result;\n    }\n  }, {\n    key: 'hdlr',\n    value: function hdlr(type) {\n      return MP4.box(MP4.types.hdlr, MP4.HDLR_TYPES[type]);\n    }\n  }, {\n    key: 'mdat',\n    value: function mdat(data) {\n      //  console.log( \"mdat==> \",data.length );\n      return MP4.box(MP4.types.mdat, data);\n    }\n  }, {\n    key: 'mdhd',\n    value: function mdhd(timescale, duration) {\n      duration *= timescale;\n      return MP4.box(MP4.types.mdhd, new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x02, // creation_time\n      0x00, 0x00, 0x00, 0x03, // modification_time\n      timescale >> 24 & 0xFF, timescale >> 16 & 0xFF, timescale >> 8 & 0xFF, timescale & 0xFF, // timescale\n      duration >> 24, duration >> 16 & 0xFF, duration >> 8 & 0xFF, duration & 0xFF, // duration\n      0x55, 0xc4, // 'und' language (undetermined)\n      0x00, 0x00]));\n    }\n  }, {\n    key: 'mdia',\n    value: function mdia(track) {\n      return MP4.box(MP4.types.mdia, MP4.mdhd(track.timescale, track.duration), MP4.hdlr(track.type), MP4.minf(track));\n    }\n  }, {\n    key: 'mfhd',\n    value: function mfhd(sequenceNumber) {\n      return MP4.box(MP4.types.mfhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // flags\n      sequenceNumber >> 24, sequenceNumber >> 16 & 0xFF, sequenceNumber >> 8 & 0xFF, sequenceNumber & 0xFF]) // sequence_number\n      );\n    }\n  }, {\n    key: 'minf',\n    value: function minf(track) {\n      if (track.type === 'audio') {\n        return MP4.box(MP4.types.minf, MP4.box(MP4.types.smhd, MP4.SMHD), MP4.DINF, MP4.stbl(track));\n      } else {\n        return MP4.box(MP4.types.minf, MP4.box(MP4.types.vmhd, MP4.VMHD), MP4.DINF, MP4.stbl(track));\n      }\n    }\n  }, {\n    key: 'moof',\n    value: function moof(sn, baseMediaDecodeTime, track) {\n      return MP4.box(MP4.types.moof, MP4.mfhd(sn), MP4.traf(track, baseMediaDecodeTime));\n    }\n    /**\n     * @param tracks... (optional) {array} the tracks associated with this movie\n     */\n\n  }, {\n    key: 'moov',\n    value: function moov(tracks) {\n      var i = tracks.length,\n          boxes = [];\n\n      while (i--) {\n        boxes[i] = MP4.trak(tracks[i]);\n      }\n\n      return MP4.box.apply(null, [MP4.types.moov, MP4.mvhd(tracks[0].timescale, tracks[0].duration)].concat(boxes).concat(MP4.mvex(tracks)));\n    }\n  }, {\n    key: 'mvex',\n    value: function mvex(tracks) {\n      var i = tracks.length,\n          boxes = [];\n\n      while (i--) {\n        boxes[i] = MP4.trex(tracks[i]);\n      }\n      return MP4.box.apply(null, [MP4.types.mvex].concat(boxes));\n    }\n  }, {\n    key: 'mvhd',\n    value: function mvhd(timescale, duration) {\n      duration = 0;\n      var bytes = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x01, // creation_time\n      0x00, 0x00, 0x00, 0x02, // modification_time\n      timescale >> 24 & 0xFF, timescale >> 16 & 0xFF, timescale >> 8 & 0xFF, timescale & 0xFF, // timescale\n      duration >> 24 & 0xFF, duration >> 16 & 0xFF, duration >> 8 & 0xFF, duration & 0xFF, // duration\n      0x00, 0x01, 0x00, 0x00, // 1.0 rate\n      0x01, 0x00, // 1.0 volume\n      0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n      0xff, 0xff, 0xff, 0xff // next_track_ID\n      ]);\n      return MP4.box(MP4.types.mvhd, bytes);\n    }\n  }, {\n    key: 'sdtp',\n    value: function sdtp(track) {\n      var samples = track.samples || [],\n          bytes = new Uint8Array(4 + samples.length),\n          flags,\n          i;\n      // leave the full box header (4 bytes) all zero\n      // write the sample table\n      for (i = 0; i < samples.length; i++) {\n        flags = samples[i].flags;\n        bytes[i + 4] = flags.dependsOn << 4 | flags.isDependedOn << 2 | flags.hasRedundancy;\n      }\n\n      return MP4.box(MP4.types.sdtp, bytes);\n    }\n  }, {\n    key: 'stbl',\n    value: function stbl(track) {\n      return MP4.box(MP4.types.stbl, MP4.stsd(track), MP4.box(MP4.types.stts, MP4.STTS), MP4.box(MP4.types.stsc, MP4.STSC), MP4.box(MP4.types.stsz, MP4.STSZ), MP4.box(MP4.types.stco, MP4.STCO));\n    }\n  }, {\n    key: 'avc1',\n    value: function avc1(track) {\n      var sps = [],\n          pps = [],\n          i,\n          data,\n          len;\n      // assemble the SPSs\n\n      for (i = 0; i < track.sps.length; i++) {\n        data = track.sps[i];\n        len = data.byteLength;\n        sps.push(len >>> 8 & 0xFF);\n        sps.push(len & 0xFF);\n        sps = sps.concat(Array.prototype.slice.call(data)); // SPS\n      }\n\n      // assemble the PPSs\n      for (i = 0; i < track.pps.length; i++) {\n        data = track.pps[i];\n        len = data.byteLength;\n        pps.push(len >>> 8 & 0xFF);\n        pps.push(len & 0xFF);\n        pps = pps.concat(Array.prototype.slice.call(data));\n      }\n\n      var avcc = MP4.box(MP4.types.avcC, new Uint8Array([0x01, // version\n      sps[3], // profile\n      sps[4], // profile compat\n      sps[5], // level\n      0xfc | 3, // lengthSizeMinusOne, hard-coded to 4 bytes\n      0xE0 | track.sps.length // 3bit reserved (111) + numOfSequenceParameterSets\n      ].concat(sps).concat([track.pps.length // numOfPictureParameterSets\n      ]).concat(pps))),\n          // \"PPS\"\n      width = track.width,\n          height = track.height;\n      //console.log('avcc:' + Hex.hexDump(avcc));\n      return MP4.box(MP4.types.avc1, new Uint8Array([0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, // data_reference_index\n      0x00, 0x00, // pre_defined\n      0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n      width >> 8 & 0xFF, width & 0xff, // width\n      height >> 8 & 0xFF, height & 0xff, // height\n      0x00, 0x48, 0x00, 0x00, // horizresolution\n      0x00, 0x48, 0x00, 0x00, // vertresolution\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, // frame_count\n      0x12, 0x6a, 0x65, 0x66, 0x66, // wfs.js\n      0x2d, 0x79, 0x61, 0x6e, 0x2f, 0x2f, 0x2f, 0x67, 0x77, 0x66, 0x73, 0x2E, 0x6A, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // compressorname\n      0x00, 0x18, // depth = 24\n      0x11, 0x11]), // pre_defined = -1\n      avcc, MP4.box(MP4.types.btrt, new Uint8Array([0x00, 0x1c, 0x9c, 0x80, // bufferSizeDB\n      0x00, 0x2d, 0xc6, 0xc0, // maxBitrate\n      0x00, 0x2d, 0xc6, 0xc0])) // avgBitrate\n      );\n    }\n  }, {\n    key: 'esds',\n    value: function esds(track) {\n      var configlen = track.config.length;\n      return new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n\n      0x03, // descriptor_type\n      0x17 + configlen, // length\n      0x00, 0x01, //es_id\n      0x00, // stream_priority\n\n      0x04, // descriptor_type\n      0x0f + configlen, // length\n      0x40, //codec : mpeg4_audio\n      0x15, // stream_type\n      0x00, 0x00, 0x00, // buffer_size\n      0x00, 0x00, 0x00, 0x00, // maxBitrate\n      0x00, 0x00, 0x00, 0x00, // avgBitrate\n\n      0x05 // descriptor_type\n      ].concat([configlen]).concat(track.config).concat([0x06, 0x01, 0x02])); // GASpecificConfig)); // length + audio config descriptor\n    }\n  }, {\n    key: 'mp4a',\n    value: function mp4a(track) {\n      var audiosamplerate = track.audiosamplerate;\n      return MP4.box(MP4.types.mp4a, new Uint8Array([0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, // data_reference_index\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, track.channelCount, // channelcount\n      0x00, 0x10, // sampleSize:16bits\n      0x00, 0x00, 0x00, 0x00, // reserved2\n      audiosamplerate >> 8 & 0xFF, audiosamplerate & 0xff, //\n      0x00, 0x00]), MP4.box(MP4.types.esds, MP4.esds(track)));\n    }\n  }, {\n    key: 'stsd',\n    value: function stsd(track) {\n      if (track.type === 'audio') {\n        return MP4.box(MP4.types.stsd, MP4.STSD, MP4.mp4a(track));\n      } else {\n        return MP4.box(MP4.types.stsd, MP4.STSD, MP4.avc1(track));\n      }\n    }\n  }, {\n    key: 'tkhd',\n    value: function tkhd(track) {\n      var id = track.id,\n          duration = track.duration * track.timescale,\n          width = track.width,\n          height = track.height;\n\n      //   console.log( \"tkhd==> \",track.id, track.duration, track.timescale, width,height );\n\n      return MP4.box(MP4.types.tkhd, new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x07, // flags\n      0x00, 0x00, 0x00, 0x00, // creation_time\n      0x00, 0x00, 0x00, 0x00, // modification_time\n      id >> 24 & 0xFF, id >> 16 & 0xFF, id >> 8 & 0xFF, id & 0xFF, // track_ID\n      0x00, 0x00, 0x00, 0x00, // reserved\n      duration >> 24, duration >> 16 & 0xFF, duration >> 8 & 0xFF, duration & 0xFF, // duration\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, // layer\n      0x00, 0x00, // alternate_group\n      0x00, 0x00, // non-audio track volume\n      0x00, 0x00, // reserved\n      0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n      width >> 8 & 0xFF, width & 0xFF, 0x00, 0x00, // width\n      height >> 8 & 0xFF, height & 0xFF, 0x00, 0x00 // height\n      ]));\n    }\n  }, {\n    key: 'traf',\n    value: function traf(track, baseMediaDecodeTime) {\n      var sampleDependencyTable = MP4.sdtp(track),\n          id = track.id;\n\n      //  console.log( \"traf==> \",id ,baseMediaDecodeTime);\n\n      return MP4.box(MP4.types.traf, MP4.box(MP4.types.tfhd, new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      id >> 24, id >> 16 & 0XFF, id >> 8 & 0XFF, id & 0xFF]) // track_ID\n      ), MP4.box(MP4.types.tfdt, new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      baseMediaDecodeTime >> 24, baseMediaDecodeTime >> 16 & 0XFF, baseMediaDecodeTime >> 8 & 0XFF, baseMediaDecodeTime & 0xFF]) // baseMediaDecodeTime\n      ), MP4.trun(track, sampleDependencyTable.length + 16 + // tfhd\n      16 + // tfdt\n      8 + // traf header\n      16 + // mfhd\n      8 + // moof header\n      8), // mdat header\n      sampleDependencyTable);\n    }\n\n    /**\n     * Generate a track box.\n     * @param track {object} a track definition\n     * @return {Uint8Array} the track box\n     */\n\n  }, {\n    key: 'trak',\n    value: function trak(track) {\n      track.duration = track.duration; // video total duration, track.duration is always 0, means infinity\n      return MP4.box(MP4.types.trak, MP4.tkhd(track), MP4.mdia(track));\n    }\n  }, {\n    key: 'trex',\n    value: function trex(track) {\n      var id = track.id;\n      return MP4.box(MP4.types.trex, new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      id >> 24, id >> 16 & 0XFF, id >> 8 & 0XFF, id & 0xFF, // track_ID\n      0x00, 0x00, 0x00, 0x01, // default_sample_description_index\n      0x00, 0x00, 0x00, 0x00, // default_sample_duration\n      0x00, 0x00, 0x00, 0x00, // default_sample_size\n      0x00, 0x01, 0x00, 0x01 // default_sample_flags\n      ]));\n    }\n  }, {\n    key: 'trun',\n    value: function trun(track, offset) {\n      var samples = track.samples || [],\n          len = samples.length,\n          arraylen = 12 + 16 * len,\n          array = new Uint8Array(arraylen),\n          i,\n          sample,\n          duration,\n          size,\n          flags,\n          cts;\n\n      //sample = samples[0];\n      //       console.log( \"trun==> \",sample.duration, sample.cts ,sample.size,len );\n\n      offset += 8 + arraylen;\n      array.set([0x00, // version 0\n      0x00, 0x0f, 0x01, // flags\n      len >>> 24 & 0xFF, len >>> 16 & 0xFF, len >>> 8 & 0xFF, len & 0xFF, // sample_count\n      offset >>> 24 & 0xFF, offset >>> 16 & 0xFF, offset >>> 8 & 0xFF, offset & 0xFF // data_offset\n      ], 0);\n      for (i = 0; i < len; i++) {\n        sample = samples[i];\n        duration = sample.duration;\n        size = sample.size;\n        flags = sample.flags;\n        cts = sample.cts;\n        array.set([duration >>> 24 & 0xFF, duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, // sample_duration\n        size >>> 24 & 0xFF, size >>> 16 & 0xFF, size >>> 8 & 0xFF, size & 0xFF, // sample_size\n        flags.isLeading << 2 | flags.dependsOn, flags.isDependedOn << 6 | flags.hasRedundancy << 4 | flags.paddingValue << 1 | flags.isNonSync, flags.degradPrio & 0xF0 << 8, flags.degradPrio & 0x0F, // sample_flags\n        cts >>> 24 & 0xFF, cts >>> 16 & 0xFF, cts >>> 8 & 0xFF, cts & 0xFF // sample_composition_time_offset\n        ], 12 + 16 * i);\n      }\n      return MP4.box(MP4.types.trun, array);\n    }\n  }, {\n    key: 'initSegment',\n    value: function initSegment(tracks) {\n      if (!MP4.types) {\n        MP4.init();\n      }\n      var movie = MP4.moov(tracks),\n          result;\n      result = new Uint8Array(MP4.FTYP.byteLength + movie.byteLength);\n      result.set(MP4.FTYP);\n      result.set(movie, MP4.FTYP.byteLength);\n\n      return result;\n    }\n  }]);\n\n  return MP4;\n}();\n\nexports.default = MP4;\n\n},{}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * fMP4 remuxer\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */\n\n\nvar _aac = require('../helper/aac');\n\nvar _aac2 = _interopRequireDefault(_aac);\n\nvar _events = require('../events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _logger = require('../utils/logger');\n\nvar _mp4Generator = require('../remux/mp4-generator');\n\nvar _mp4Generator2 = _interopRequireDefault(_mp4Generator);\n\nvar _errors = require('../errors');\n\nrequire('../utils/polyfill');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MP4Remuxer = function () {\n  function MP4Remuxer(observer, id, config) {\n    _classCallCheck(this, MP4Remuxer);\n\n    this.observer = observer;\n    this.id = id;\n    this.config = config;\n    this.ISGenerated = false;\n    this.PES2MP4SCALEFACTOR = 4;\n    this.PES_TIMESCALE = 90000;\n    this.MP4_TIMESCALE = this.PES_TIMESCALE / this.PES2MP4SCALEFACTOR;\n    this.nextAvcDts = 90300;\n    this.H264_TIMEBASE = this.PES_TIMESCALE / this.observer.config.fps;\n  }\n\n  _createClass(MP4Remuxer, [{\n    key: 'destroy',\n    value: function destroy() {}\n  }, {\n    key: 'insertDiscontinuity',\n    value: function insertDiscontinuity() {\n      this._initPTS = this._initDTS = undefined;\n    }\n  }, {\n    key: 'switchLevel',\n    value: function switchLevel() {\n      this.ISGenerated = false;\n    }\n  }, {\n    key: 'pushVideo',\n    value: function pushVideo(level, sn, videoTrack, timeOffset, contiguous) {\n      this.level = level;\n      this.sn = sn;\n      var videoData = void 0;\n      // generate Init Segment if needed\n      if (!this.ISGenerated) {\n        this.generateVideoIS(videoTrack, timeOffset);\n      }\n      if (this.ISGenerated) {\n        if (videoTrack.samples.length) {\n          this.remuxVideo_2(videoTrack, timeOffset, contiguous);\n        }\n      }\n    }\n  }, {\n    key: 'remuxVideo_2',\n    value: function remuxVideo_2(track, timeOffset, contiguous, audioTrackLength) {\n      var offset = 8,\n          pesTimeScale = this.PES_TIMESCALE,\n          pes2mp4ScaleFactor = this.PES2MP4SCALEFACTOR,\n          mp4SampleDuration,\n          mdat,\n          moof,\n          firstPTS,\n          firstDTS,\n          nextDTS,\n          inputSamples = track.samples,\n          outputSamples = [];\n\n      /* concatenate the video data and construct the mdat in place\n        (need 8 more bytes to fill length and mpdat type) */\n      mdat = new Uint8Array(track.len + 4 * track.nbNalu + 8);\n      var view = new DataView(mdat.buffer);\n      view.setUint32(0, mdat.byteLength);\n      mdat.set(_mp4Generator2.default.types.mdat, 4);\n      var sampleDuration = 0;\n      var ptsnorm = void 0,\n          dtsnorm = void 0,\n          mp4Sample = void 0,\n          lastDTS = void 0;\n\n      for (var i = 0; i < inputSamples.length; i++) {\n        var avcSample = inputSamples[i],\n            mp4SampleLength = 0,\n            compositionTimeOffset = void 0;\n        // convert NALU bitstream to MP4 format (prepend NALU with size field)\n        while (avcSample.units.units.length) {\n          var unit = avcSample.units.units.shift();\n          view.setUint32(offset, unit.data.byteLength);\n          offset += 4;\n          mdat.set(unit.data, offset);\n          offset += unit.data.byteLength;\n          mp4SampleLength += 4 + unit.data.byteLength;\n        }\n\n        var pts = avcSample.pts - this._initPTS;\n        var dts = avcSample.dts - this._initDTS;\n        dts = Math.min(pts, dts);\n\n        if (lastDTS !== undefined) {\n          ptsnorm = this._PTSNormalize(pts, lastDTS);\n          dtsnorm = this._PTSNormalize(dts, lastDTS);\n          sampleDuration = dtsnorm - lastDTS;\n          if (sampleDuration <= 0) {\n            _logger.logger.log('invalid sample duration at PTS/DTS: ' + avcSample.pts + '/' + avcSample.dts + '|dts norm: ' + dtsnorm + '|lastDTS: ' + lastDTS + ':' + sampleDuration);\n            sampleDuration = 1;\n          }\n        } else {\n          var nextAvcDts = this.nextAvcDts,\n              delta;\n          ptsnorm = this._PTSNormalize(pts, nextAvcDts);\n          dtsnorm = this._PTSNormalize(dts, nextAvcDts);\n          if (nextAvcDts) {\n            delta = Math.round(dtsnorm - nextAvcDts);\n            if ( /*contiguous ||*/Math.abs(delta) < 600) {\n              if (delta) {\n                if (delta > 1) {\n                  _logger.logger.log('AVC:' + delta + ' ms hole between fragments detected,filling it');\n                } else if (delta < -1) {\n                  _logger.logger.log('AVC:' + -delta + ' ms overlapping between fragments detected');\n                }\n                dtsnorm = nextAvcDts;\n                ptsnorm = Math.max(ptsnorm - delta, dtsnorm);\n                _logger.logger.log('Video/PTS/DTS adjusted: ' + ptsnorm + '/' + dtsnorm + ',delta:' + delta);\n              }\n            }\n          }\n          this.firstPTS = Math.max(0, ptsnorm);\n          this.firstDTS = Math.max(0, dtsnorm);\n          sampleDuration = 0.03;\n        }\n\n        outputSamples.push({\n          size: mp4SampleLength,\n          duration: this.H264_TIMEBASE,\n          cts: 0,\n          flags: {\n            isLeading: 0,\n            isDependedOn: 0,\n            hasRedundancy: 0,\n            degradPrio: 0,\n            dependsOn: avcSample.key ? 2 : 1,\n            isNonSync: avcSample.key ? 0 : 1\n          }\n        });\n        lastDTS = dtsnorm;\n      }\n\n      var lastSampleDuration = 0;\n      if (outputSamples.length >= 2) {\n        lastSampleDuration = outputSamples[outputSamples.length - 2].duration;\n        outputSamples[0].duration = lastSampleDuration;\n      }\n      this.nextAvcDts = dtsnorm + lastSampleDuration;\n      var dropped = track.dropped;\n      track.len = 0;\n      track.nbNalu = 0;\n      track.dropped = 0;\n      // if(outputSamples.length && navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {\n      //   let flags = outputSamples[0].flags; \n      //   flags.dependsOn = 2;\n      //   flags.isNonSync = 0;\n      // }\n      track.samples = outputSamples;\n      moof = _mp4Generator2.default.moof(track.sequenceNumber++, dtsnorm, track);\n      track.samples = [];\n\n      var data = {\n        id: this.id,\n        level: this.level,\n        sn: this.sn,\n        data1: moof,\n        data2: mdat,\n        startPTS: ptsnorm,\n        endPTS: ptsnorm,\n        startDTS: dtsnorm,\n        endDTS: dtsnorm,\n        type: 'video',\n        nb: outputSamples.length,\n        dropped: dropped\n      };\n\n      this.observer.trigger(_events2.default.FRAG_PARSING_DATA, data);\n      return data;\n    }\n  }, {\n    key: 'generateVideoIS',\n    value: function generateVideoIS(videoTrack, timeOffset) {\n      var observer = this.observer,\n          videoSamples = videoTrack.samples,\n          pesTimeScale = this.PES_TIMESCALE,\n          tracks = {},\n          data = { id: this.id, level: this.level, sn: this.sn, tracks: tracks, unique: false },\n          computePTSDTS = this._initPTS === undefined,\n          initPTS,\n          initDTS;\n\n      if (computePTSDTS) {\n        initPTS = initDTS = Infinity;\n      }\n\n      if (videoTrack.sps && videoTrack.pps && videoSamples.length) {\n        videoTrack.timescale = 90000; //this.MP4_TIMESCALE;\n        tracks.video = {\n          container: 'video/mp4',\n          codec: videoTrack.codec,\n          initSegment: _mp4Generator2.default.initSegment([videoTrack]),\n          metadata: {\n            width: videoTrack.width,\n            height: videoTrack.height\n          }\n        };\n        if (computePTSDTS) {\n          initPTS = Math.min(initPTS, videoSamples[0].pts - this.H264_TIMEBASE);\n          initDTS = Math.min(initDTS, videoSamples[0].dts - this.H264_TIMEBASE);\n        }\n      }\n\n      if (Object.keys(tracks).length) {\n        observer.trigger(_events2.default.FRAG_PARSING_INIT_SEGMENT, data);\n        this.ISGenerated = true;\n        if (computePTSDTS) {\n          this._initPTS = initPTS;\n          this._initDTS = initDTS;\n        }\n      } else {\n        console.log(\"generateVideoIS ERROR==> \", _errors.ErrorTypes.MEDIA_ERROR);\n      }\n    }\n  }, {\n    key: 'remux',\n    value: function remux(level, sn, audioTrack, videoTrack, id3Track, textTrack, timeOffset, contiguous) {\n      this.level = level;\n      this.sn = sn;\n      // generate Init Segment if needed\n      if (!this.ISGenerated) {\n        this.generateIS(audioTrack, videoTrack, timeOffset);\n      }\n\n      if (this.ISGenerated) {\n        // Purposefully remuxing audio before video, so that remuxVideo can use nextAacPts, which is\n        // calculated in remuxAudio.\n        //logger.log('nb AAC samples:' + audioTrack.samples.length);\n        if (audioTrack.samples.length) {\n          var audioData = this.remuxAudio(audioTrack, timeOffset, contiguous);\n          //logger.log('nb AVC samples:' + videoTrack.samples.length);\n          if (videoTrack.samples.length) {\n            var audioTrackLength = void 0;\n            if (audioData) {\n              audioTrackLength = audioData.endPTS - audioData.startPTS;\n            }\n            this.remuxVideo(videoTrack, timeOffset, contiguous, audioTrackLength);\n          }\n        } else {\n          var videoData = void 0;\n          //logger.log('nb AVC samples:' + videoTrack.samples.length);\n          if (videoTrack.samples.length) {\n            videoData = this.remuxVideo(videoTrack, timeOffset, contiguous);\n          }\n          if (videoData && audioTrack.codec) {\n            this.remuxEmptyAudio(audioTrack, timeOffset, contiguous, videoData);\n          }\n        }\n      }\n      //logger.log('nb ID3 samples:' + audioTrack.samples.length);\n      if (id3Track.samples.length) {\n        this.remuxID3(id3Track, timeOffset);\n      }\n      //logger.log('nb ID3 samples:' + audioTrack.samples.length);\n      if (textTrack.samples.length) {\n        this.remuxText(textTrack, timeOffset);\n      }\n      //notify end of parsing\n      this.observer.trigger(_events2.default.FRAG_PARSED, { id: this.id, level: this.level, sn: this.sn });\n    }\n  }, {\n    key: 'generateIS',\n    value: function generateIS(audioTrack, videoTrack, timeOffset) {\n      var observer = this.observer,\n          audioSamples = audioTrack.samples,\n          videoSamples = videoTrack.samples,\n          pesTimeScale = this.PES_TIMESCALE,\n          tracks = {},\n          data = { id: this.id, level: this.level, sn: this.sn, tracks: tracks, unique: false },\n          computePTSDTS = this._initPTS === undefined,\n          initPTS,\n          initDTS;\n\n      if (computePTSDTS) {\n        initPTS = initDTS = Infinity;\n      }\n      if (audioTrack.config && audioSamples.length) {\n        audioTrack.timescale = audioTrack.audiosamplerate;\n        // MP4 duration (track duration in seconds multiplied by timescale) is coded on 32 bits\n        // we know that each AAC sample contains 1024 frames....\n        // in order to avoid overflowing the 32 bit counter for large duration, we use smaller timescale (timescale/gcd)\n        // we just need to ensure that AAC sample duration will still be an integer (will be 1024/gcd)\n        if (audioTrack.timescale * audioTrack.duration > Math.pow(2, 32)) {\n          var greatestCommonDivisor = function greatestCommonDivisor(a, b) {\n            if (!b) {\n              return a;\n            }\n            return greatestCommonDivisor(b, a % b);\n          };\n          audioTrack.timescale = audioTrack.audiosamplerate / greatestCommonDivisor(audioTrack.audiosamplerate, 1024);\n        }\n        _logger.logger.log('audio mp4 timescale :' + audioTrack.timescale);\n        tracks.audio = {\n          container: 'audio/mp4',\n          codec: audioTrack.codec,\n          initSegment: _mp4Generator2.default.initSegment([audioTrack]),\n          metadata: {\n            channelCount: audioTrack.channelCount\n          }\n        };\n        if (computePTSDTS) {\n          // remember first PTS of this demuxing context. for audio, PTS + DTS ...\n          initPTS = initDTS = audioSamples[0].pts - pesTimeScale * timeOffset;\n        }\n      }\n\n      if (videoTrack.sps && videoTrack.pps && videoSamples.length) {\n        videoTrack.timescale = this.MP4_TIMESCALE;\n        tracks.video = {\n          container: 'video/mp4',\n          codec: videoTrack.codec,\n          initSegment: _mp4Generator2.default.initSegment([videoTrack]),\n          metadata: {\n            width: videoTrack.width,\n            height: videoTrack.height\n          }\n        };\n        if (computePTSDTS) {\n          initPTS = Math.min(initPTS, videoSamples[0].pts - pesTimeScale * timeOffset);\n          initDTS = Math.min(initDTS, videoSamples[0].dts - pesTimeScale * timeOffset);\n        }\n      }\n\n      if (Object.keys(tracks).length) {\n        observer.trigger(_events2.default.FRAG_PARSING_INIT_SEGMENT, data);\n        this.ISGenerated = true;\n        if (computePTSDTS) {\n          this._initPTS = initPTS;\n          this._initDTS = initDTS;\n        }\n      } else {\n        observer.trigger(_events2.default.ERROR, { type: _errors.ErrorTypes.MEDIA_ERROR, id: this.id, details: _errors.ErrorDetails.FRAG_PARSING_ERROR, fatal: false, reason: 'no audio/video samples found' });\n      }\n    }\n  }, {\n    key: 'remuxVideo',\n    value: function remuxVideo(track, timeOffset, contiguous, audioTrackLength) {\n      var offset = 8,\n          pesTimeScale = this.PES_TIMESCALE,\n          pes2mp4ScaleFactor = this.PES2MP4SCALEFACTOR,\n          mp4SampleDuration,\n          mdat,\n          moof,\n          firstPTS,\n          firstDTS,\n          nextDTS,\n          lastPTS,\n          lastDTS,\n          inputSamples = track.samples,\n          outputSamples = [];\n\n      // PTS is coded on 33bits, and can loop from -2^32 to 2^32\n      // PTSNormalize will make PTS/DTS value monotonic, we use last known DTS value as reference value\n      var nextAvcDts = void 0;\n      if (contiguous) {\n        // if parsed fragment is contiguous with last one, let's use last DTS value as reference\n        nextAvcDts = this.nextAvcDts;\n      } else {\n        // if not contiguous, let's use target timeOffset\n        nextAvcDts = timeOffset * pesTimeScale;\n      }\n\n      // compute first DTS and last DTS, normalize them against reference value\n      var sample = inputSamples[0];\n      firstDTS = Math.max(this._PTSNormalize(sample.dts, nextAvcDts) - this._initDTS, 0);\n      firstPTS = Math.max(this._PTSNormalize(sample.pts, nextAvcDts) - this._initDTS, 0);\n\n      // check timestamp continuity accross consecutive fragments (this is to remove inter-fragment gap/hole)\n      var delta = Math.round((firstDTS - nextAvcDts) / 90);\n      // if fragment are contiguous, detect hole/overlapping between fragments\n      if (contiguous) {\n        if (delta) {\n          if (delta > 1) {\n            _logger.logger.log('AVC:' + delta + ' ms hole between fragments detected,filling it');\n          } else if (delta < -1) {\n            _logger.logger.log('AVC:' + -delta + ' ms overlapping between fragments detected');\n          }\n          // remove hole/gap : set DTS to next expected DTS\n          firstDTS = nextAvcDts;\n          inputSamples[0].dts = firstDTS + this._initDTS;\n          // offset PTS as well, ensure that PTS is smaller or equal than new DTS\n          firstPTS = Math.max(firstPTS - delta, nextAvcDts);\n          inputSamples[0].pts = firstPTS + this._initDTS;\n          _logger.logger.log('Video/PTS/DTS adjusted: ' + firstPTS + '/' + firstDTS + ',delta:' + delta);\n        }\n      }\n      nextDTS = firstDTS;\n\n      // compute lastPTS/lastDTS\n      sample = inputSamples[inputSamples.length - 1];\n      lastDTS = Math.max(this._PTSNormalize(sample.dts, nextAvcDts) - this._initDTS, 0);\n      lastPTS = Math.max(this._PTSNormalize(sample.pts, nextAvcDts) - this._initDTS, 0);\n      lastPTS = Math.max(lastPTS, lastDTS);\n\n      var vendor = navigator.vendor,\n          userAgent = navigator.userAgent,\n          isSafari = vendor && vendor.indexOf('Apple') > -1 && userAgent && !userAgent.match('CriOS');\n\n      // on Safari let's signal the same sample duration for all samples\n      // sample duration (as expected by trun MP4 boxes), should be the delta between sample DTS\n      // set this constant duration as being the avg delta between consecutive DTS.\n      if (isSafari) {\n        mp4SampleDuration = Math.round((lastDTS - firstDTS) / (pes2mp4ScaleFactor * (inputSamples.length - 1)));\n      }\n\n      // normalize all PTS/DTS now ...\n      for (var i = 0; i < inputSamples.length; i++) {\n        var _sample = inputSamples[i];\n        if (isSafari) {\n          // sample DTS is computed using a constant decoding offset (mp4SampleDuration) between samples\n          _sample.dts = firstDTS + i * pes2mp4ScaleFactor * mp4SampleDuration;\n        } else {\n          // ensure sample monotonic DTS\n          _sample.dts = Math.max(this._PTSNormalize(_sample.dts, nextAvcDts) - this._initDTS, firstDTS);\n          // ensure dts is a multiple of scale factor to avoid rounding issues\n          _sample.dts = Math.round(_sample.dts / pes2mp4ScaleFactor) * pes2mp4ScaleFactor;\n        }\n        // we normalize PTS against nextAvcDts, we also substract initDTS (some streams don't start @ PTS O)\n        // and we ensure that computed value is greater or equal than sample DTS\n        _sample.pts = Math.max(this._PTSNormalize(_sample.pts, nextAvcDts) - this._initDTS, _sample.dts);\n        // ensure pts is a multiple of scale factor to avoid rounding issues\n        _sample.pts = Math.round(_sample.pts / pes2mp4ScaleFactor) * pes2mp4ScaleFactor;\n      }\n\n      /* concatenate the video data and construct the mdat in place\n        (need 8 more bytes to fill length and mpdat type) */\n      mdat = new Uint8Array(track.len + 4 * track.nbNalu + 8);\n      var view = new DataView(mdat.buffer);\n      view.setUint32(0, mdat.byteLength);\n      mdat.set(_mp4Generator2.default.types.mdat, 4);\n\n      for (var _i = 0; _i < inputSamples.length; _i++) {\n        var avcSample = inputSamples[_i],\n            mp4SampleLength = 0,\n            compositionTimeOffset = void 0;\n        // convert NALU bitstream to MP4 format (prepend NALU with size field)\n        while (avcSample.units.units.length) {\n          var unit = avcSample.units.units.shift();\n          view.setUint32(offset, unit.data.byteLength);\n          offset += 4;\n          mdat.set(unit.data, offset);\n          offset += unit.data.byteLength;\n          mp4SampleLength += 4 + unit.data.byteLength;\n        }\n\n        if (!isSafari) {\n          // expected sample duration is the Decoding Timestamp diff of consecutive samples\n          if (_i < inputSamples.length - 1) {\n            mp4SampleDuration = inputSamples[_i + 1].dts - avcSample.dts;\n          } else {\n            var config = this.config,\n                lastFrameDuration = avcSample.dts - inputSamples[_i > 0 ? _i - 1 : _i].dts;\n            if (config.stretchShortVideoTrack) {\n              // In some cases, a segment's audio track duration may exceed the video track duration.\n              // Since we've already remuxed audio, and we know how long the audio track is, we look to\n              // see if the delta to the next segment is longer than the minimum of maxBufferHole and\n              // maxSeekHole. If so, playback would potentially get stuck, so we artificially inflate\n              // the duration of the last frame to minimize any potential gap between segments.\n              var maxBufferHole = config.maxBufferHole,\n                  maxSeekHole = config.maxSeekHole,\n                  gapTolerance = Math.floor(Math.min(maxBufferHole, maxSeekHole) * pesTimeScale),\n                  deltaToFrameEnd = (audioTrackLength ? firstPTS + audioTrackLength * pesTimeScale : this.nextAacPts) - avcSample.pts;\n              if (deltaToFrameEnd > gapTolerance) {\n                // We subtract lastFrameDuration from deltaToFrameEnd to try to prevent any video\n                // frame overlap. maxBufferHole/maxSeekHole should be >> lastFrameDuration anyway.\n                mp4SampleDuration = deltaToFrameEnd - lastFrameDuration;\n                if (mp4SampleDuration < 0) {\n                  mp4SampleDuration = lastFrameDuration;\n                }\n                _logger.logger.log('It is approximately ' + deltaToFrameEnd / 90 + ' ms to the next segment; using duration ' + mp4SampleDuration / 90 + ' ms for the last video frame.');\n              } else {\n                mp4SampleDuration = lastFrameDuration;\n              }\n            } else {\n              mp4SampleDuration = lastFrameDuration;\n            }\n          }\n          mp4SampleDuration /= pes2mp4ScaleFactor;\n          compositionTimeOffset = Math.round((avcSample.pts - avcSample.dts) / pes2mp4ScaleFactor);\n        } else {\n          compositionTimeOffset = Math.max(0, mp4SampleDuration * Math.round((avcSample.pts - avcSample.dts) / (pes2mp4ScaleFactor * mp4SampleDuration)));\n        }\n        outputSamples.push({\n          size: mp4SampleLength,\n          // constant duration\n          duration: mp4SampleDuration,\n          cts: compositionTimeOffset,\n          flags: {\n            isLeading: 0,\n            isDependedOn: 0,\n            hasRedundancy: 0,\n            degradPrio: 0,\n            dependsOn: avcSample.key ? 2 : 1,\n            isNonSync: avcSample.key ? 0 : 1\n          }\n        });\n      }\n      // next AVC sample DTS should be equal to last sample DTS + last sample duration (in PES timescale)\n      this.nextAvcDts = lastDTS + mp4SampleDuration * pes2mp4ScaleFactor;\n      var dropped = track.dropped;\n      track.len = 0;\n      track.nbNalu = 0;\n      track.dropped = 0;\n      // if(outputSamples.length && navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {\n      //   let flags = outputSamples[0].flags;\n      // // chrome workaround, mark first sample as being a Random Access Point to avoid sourcebuffer append issue\n      // // https://code.google.com/p/chromium/issues/detail?id=229412\n      //   flags.dependsOn = 2;\n      //   flags.isNonSync = 0;\n      // }\n      track.samples = outputSamples;\n      moof = _mp4Generator2.default.moof(track.sequenceNumber++, firstDTS / pes2mp4ScaleFactor, track);\n      track.samples = [];\n\n      var data = {\n        id: this.id,\n        level: this.level,\n        sn: this.sn,\n        data1: moof,\n        data2: mdat,\n        startPTS: firstPTS / pesTimeScale,\n        endPTS: (lastPTS + pes2mp4ScaleFactor * mp4SampleDuration) / pesTimeScale,\n        startDTS: firstPTS / pesTimeScale,\n        endDTS: (lastPTS + pes2mp4ScaleFactor * mp4SampleDuration) / pesTimeScale,\n        // startDTS: firstDTS / pesTimeScale,\n        // endDTS: this.nextAvcDts / pesTimeScale,\n        type: 'video',\n        nb: outputSamples.length,\n        dropped: dropped\n      };\n      this.observer.trigger(_events2.default.FRAG_PARSING_DATA, data);\n      return data;\n    }\n  }, {\n    key: 'remuxAudio',\n    value: function remuxAudio(track, timeOffset, contiguous) {\n      var pesTimeScale = this.PES_TIMESCALE,\n          mp4timeScale = track.timescale,\n          pes2mp4ScaleFactor = pesTimeScale / mp4timeScale,\n          expectedSampleDuration = track.timescale * 1024 / track.audiosamplerate;\n      var view,\n          offset = 8,\n          aacSample,\n          mp4Sample,\n          unit,\n          mdat,\n          moof,\n          firstPTS,\n          firstDTS,\n          lastDTS,\n          pts,\n          dts,\n          ptsnorm,\n          dtsnorm,\n          samples = [],\n          samples0 = [];\n\n      track.samples.sort(function (a, b) {\n        return a.pts - b.pts;\n      });\n      samples0 = track.samples;\n\n      var nextAacPts = contiguous ? this.nextAacPts : timeOffset * pesTimeScale;\n\n      // If the audio track is missing samples, the frames seem to get \"left-shifted\" within the\n      // resulting mp4 segment, causing sync issues and leaving gaps at the end of the audio segment.\n      // In an effort to prevent this from happening, we inject frames here where there are gaps.\n      // When possible, we inject a silent frame; when that's not possible, we duplicate the last\n      // frame.\n      var firstPtsNorm = this._PTSNormalize(samples0[0].pts - this._initPTS, nextAacPts),\n          pesFrameDuration = expectedSampleDuration * pes2mp4ScaleFactor;\n      var nextPtsNorm = firstPtsNorm + pesFrameDuration;\n      for (var i = 1; i < samples0.length;) {\n        // First, let's see how far off this frame is from where we expect it to be\n        var sample = samples0[i],\n            ptsNorm = this._PTSNormalize(sample.pts - this._initPTS, nextAacPts),\n            delta = ptsNorm - nextPtsNorm;\n\n        // If we're overlapping by more than half a duration, drop this sample\n        if (delta < -0.5 * pesFrameDuration) {\n          _logger.logger.log('Dropping frame due to ' + Math.abs(delta / 90) + ' ms overlap.');\n          samples0.splice(i, 1);\n          track.len -= sample.unit.length;\n          // Don't touch nextPtsNorm or i\n        }\n        // Otherwise, if we're more than half a frame away from where we should be, insert missing frames\n        else if (delta > 0.5 * pesFrameDuration) {\n            var missing = Math.round(delta / pesFrameDuration);\n            _logger.logger.log('Injecting ' + missing + ' frame' + (missing > 1 ? 's' : '') + ' of missing audio due to ' + Math.round(delta / 90) + ' ms gap.');\n            for (var j = 0; j < missing; j++) {\n              var newStamp = samples0[i - 1].pts + pesFrameDuration,\n                  fillFrame = _aac2.default.getSilentFrame(track.channelCount);\n              if (!fillFrame) {\n                _logger.logger.log('Unable to get silent frame for given audio codec; duplicating last frame instead.');\n                fillFrame = sample.unit.slice(0);\n              }\n              samples0.splice(i, 0, { unit: fillFrame, pts: newStamp, dts: newStamp });\n              track.len += fillFrame.length;\n              i += 1;\n            }\n\n            // Adjust sample to next expected pts\n            nextPtsNorm += (missing + 1) * pesFrameDuration;\n            sample.pts = samples0[i - 1].pts + pesFrameDuration;\n            i += 1;\n          }\n          // Otherwise, we're within half a frame duration, so just adjust pts\n          else {\n              if (Math.abs(delta) > 0.1 * pesFrameDuration) {\n                _logger.logger.log('Invalid frame delta ' + (ptsNorm - nextPtsNorm + pesFrameDuration) + ' at PTS ' + Math.round(ptsNorm / 90) + ' (should be ' + pesFrameDuration + ').');\n              }\n              nextPtsNorm += pesFrameDuration;\n              sample.pts = samples0[i - 1].pts + pesFrameDuration;\n              i += 1;\n            }\n      }\n\n      while (samples0.length) {\n        aacSample = samples0.shift();\n        unit = aacSample.unit;\n        pts = aacSample.pts - this._initDTS;\n        dts = aacSample.dts - this._initDTS;\n        //logger.log(`Audio/PTS:${Math.round(pts/90)}`);\n        // if not first sample\n        if (lastDTS !== undefined) {\n          ptsnorm = this._PTSNormalize(pts, lastDTS);\n          dtsnorm = this._PTSNormalize(dts, lastDTS);\n          mp4Sample.duration = (dtsnorm - lastDTS) / pes2mp4ScaleFactor;\n        } else {\n          ptsnorm = this._PTSNormalize(pts, nextAacPts);\n          dtsnorm = this._PTSNormalize(dts, nextAacPts);\n          var _delta = Math.round(1000 * (ptsnorm - nextAacPts) / pesTimeScale);\n          // if fragment are contiguous, detect hole/overlapping between fragments\n          if (contiguous) {\n            // log delta\n            if (_delta) {\n              if (_delta > 0) {\n                _logger.logger.log(_delta + ' ms hole between AAC samples detected,filling it');\n                // if we have frame overlap, overlapping for more than half a frame duraion\n              } else if (_delta < -12) {\n                // drop overlapping audio frames... browser will deal with it\n                _logger.logger.log(-_delta + ' ms overlapping between AAC samples detected, drop frame');\n                track.len -= unit.byteLength;\n                continue;\n              }\n              // set PTS/DTS to expected PTS/DTS\n              ptsnorm = dtsnorm = nextAacPts;\n            }\n          }\n          // remember first PTS of our aacSamples, ensure value is positive\n          firstPTS = Math.max(0, ptsnorm);\n          firstDTS = Math.max(0, dtsnorm);\n          if (track.len > 0) {\n            /* concatenate the audio data and construct the mdat in place\n              (need 8 more bytes to fill length and mdat type) */\n            mdat = new Uint8Array(track.len + 8);\n            view = new DataView(mdat.buffer);\n            view.setUint32(0, mdat.byteLength);\n            mdat.set(_mp4Generator2.default.types.mdat, 4);\n          } else {\n            // no audio samples\n            return;\n          }\n        }\n        mdat.set(unit, offset);\n        offset += unit.byteLength;\n        //console.log('PTS/DTS/initDTS/normPTS/normDTS/relative PTS : ${aacSample.pts}/${aacSample.dts}/${this._initDTS}/${ptsnorm}/${dtsnorm}/${(aacSample.pts/4294967296).toFixed(3)}');\n        mp4Sample = {\n          size: unit.byteLength,\n          cts: 0,\n          duration: 0,\n          flags: {\n            isLeading: 0,\n            isDependedOn: 0,\n            hasRedundancy: 0,\n            degradPrio: 0,\n            dependsOn: 1\n          }\n        };\n        samples.push(mp4Sample);\n        lastDTS = dtsnorm;\n      }\n      var lastSampleDuration = 0;\n      var nbSamples = samples.length;\n      //set last sample duration as being identical to previous sample\n      if (nbSamples >= 2) {\n        lastSampleDuration = samples[nbSamples - 2].duration;\n        mp4Sample.duration = lastSampleDuration;\n      }\n      if (nbSamples) {\n        // next aac sample PTS should be equal to last sample PTS + duration\n        this.nextAacPts = ptsnorm + pes2mp4ScaleFactor * lastSampleDuration;\n        //logger.log('Audio/PTS/PTSend:' + aacSample.pts.toFixed(0) + '/' + this.nextAacDts.toFixed(0));\n        track.len = 0;\n        track.samples = samples;\n        moof = _mp4Generator2.default.moof(track.sequenceNumber++, firstDTS / pes2mp4ScaleFactor, track);\n        track.samples = [];\n        var audioData = {\n          id: this.id,\n          level: this.level,\n          sn: this.sn,\n          data1: moof,\n          data2: mdat,\n          startPTS: firstPTS / pesTimeScale,\n          endPTS: this.nextAacPts / pesTimeScale,\n          startDTS: firstDTS / pesTimeScale,\n          endDTS: (dtsnorm + pes2mp4ScaleFactor * lastSampleDuration) / pesTimeScale,\n          type: 'audio',\n          nb: nbSamples\n        };\n        this.observer.trigger(_events2.default.FRAG_PARSING_DATA, audioData);\n        return audioData;\n      }\n      return null;\n    }\n  }, {\n    key: 'remuxEmptyAudio',\n    value: function remuxEmptyAudio(track, timeOffset, contiguous, videoData) {\n      var pesTimeScale = this.PES_TIMESCALE,\n          mp4timeScale = track.timescale ? track.timescale : track.audiosamplerate,\n          pes2mp4ScaleFactor = pesTimeScale / mp4timeScale,\n\n\n      // sync with video's timestamp\n      startDTS = videoData.startDTS * pesTimeScale + this._initDTS,\n          endDTS = videoData.endDTS * pesTimeScale + this._initDTS,\n\n\n      // one sample's duration value\n      sampleDuration = 1024,\n          frameDuration = pes2mp4ScaleFactor * sampleDuration,\n\n\n      // samples count of this segment's duration\n      nbSamples = Math.ceil((endDTS - startDTS) / frameDuration),\n\n\n      // silent frame\n      silentFrame = _aac2.default.getSilentFrame(track.channelCount);\n\n      // Can't remux if we can't generate a silent frame...\n      if (!silentFrame) {\n        _logger.logger.trace('Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!');\n        return;\n      }\n\n      var samples = [];\n      for (var i = 0; i < nbSamples; i++) {\n        var stamp = startDTS + i * frameDuration;\n        samples.push({ unit: silentFrame.slice(0), pts: stamp, dts: stamp });\n        track.len += silentFrame.length;\n      }\n      track.samples = samples;\n\n      this.remuxAudio(track, timeOffset, contiguous);\n    }\n  }, {\n    key: 'remuxID3',\n    value: function remuxID3(track, timeOffset) {\n      var length = track.samples.length,\n          sample;\n      // consume samples\n      if (length) {\n        for (var index = 0; index < length; index++) {\n          sample = track.samples[index];\n          // setting id3 pts, dts to relative time\n          // using this._initPTS and this._initDTS to calculate relative time\n          sample.pts = (sample.pts - this._initPTS) / this.PES_TIMESCALE;\n          sample.dts = (sample.dts - this._initDTS) / this.PES_TIMESCALE;\n        }\n        this.observer.trigger(_events2.default.FRAG_PARSING_METADATA, {\n          id: this.id,\n          level: this.level,\n          sn: this.sn,\n          samples: track.samples\n        });\n      }\n\n      track.samples = [];\n      timeOffset = timeOffset;\n    }\n  }, {\n    key: 'remuxText',\n    value: function remuxText(track, timeOffset) {\n      track.samples.sort(function (a, b) {\n        return a.pts - b.pts;\n      });\n\n      var length = track.samples.length,\n          sample;\n      // consume samples\n      if (length) {\n        for (var index = 0; index < length; index++) {\n          sample = track.samples[index];\n          // setting text pts, dts to relative time\n          // using this._initPTS and this._initDTS to calculate relative time\n          sample.pts = (sample.pts - this._initPTS) / this.PES_TIMESCALE;\n        }\n        this.observer.trigger(_events2.default.FRAG_PARSING_USERDATA, {\n          id: this.id,\n          level: this.level,\n          sn: this.sn,\n          samples: track.samples\n        });\n      }\n\n      track.samples = [];\n      timeOffset = timeOffset;\n    }\n  }, {\n    key: '_PTSNormalize',\n    value: function _PTSNormalize(value, reference) {\n      var offset;\n      if (reference === undefined) {\n        return value;\n      }\n      if (reference < value) {\n        // - 2^33\n        offset = -8589934592;\n      } else {\n        // + 2^33\n        offset = 8589934592;\n      }\n      /* PTS is 33bit (from 0 to 2^33 -1)\n        if diff between value and reference is bigger than half of the amplitude (2^32) then it means that\n        PTS looping occured. fill the gap */\n      while (Math.abs(value - reference) > 4294967296) {\n        value += offset;\n      }\n      return value;\n    }\n  }, {\n    key: 'passthrough',\n    get: function get() {\n      return false;\n    }\n  }]);\n\n  return MP4Remuxer;\n}();\n\nexports.default = MP4Remuxer;\n\n},{\"../errors\":6,\"../events\":8,\"../helper/aac\":9,\"../remux/mp4-generator\":12,\"../utils/logger\":15,\"../utils/polyfill\":16}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require('../events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _eventHandler = require('../event-handler');\n\nvar _eventHandler2 = _interopRequireDefault(_eventHandler);\n\nvar _h264Demuxer = require('../demux/h264-demuxer');\n\nvar _h264Demuxer2 = _interopRequireDefault(_h264Demuxer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * H264 NAL Slicer\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar SlicesReader = function (_EventHandler) {\n    _inherits(SlicesReader, _EventHandler);\n\n    function SlicesReader(wfs) {\n        var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n        _classCallCheck(this, SlicesReader);\n\n        var _this = _possibleConstructorReturn(this, (SlicesReader.__proto__ || Object.getPrototypeOf(SlicesReader)).call(this, wfs, _events2.default.H264_DATA_PARSING));\n\n        _this.config = _this.wfs.config || config;\n        _this.h264Demuxer = new _h264Demuxer2.default(wfs);\n        _this.wfs = wfs;\n        _this.lastBuf = null;\n        _this.nals = [];\n        return _this;\n    }\n\n    _createClass(SlicesReader, [{\n        key: 'destroy',\n        value: function destroy() {\n            this.lastBuf = null;\n            this.nals = [];\n            _eventHandler2.default.prototype.destroy.call(this);\n        }\n    }, {\n        key: '_read',\n        value: function _read(buffer) {\n            var typedAr = null;\n            this.nals = [];\n            if (!buffer || buffer.byteLength < 1) return;\n            if (this.lastBuf) {\n                typedAr = new Uint8Array(buffer.byteLength + this.lastBuf.length);\n                typedAr.set(this.lastBuf);\n                typedAr.set(new Uint8Array(buffer), this.lastBuf.length);\n            } else {\n                typedAr = new Uint8Array(buffer);\n            }\n            var lastNalEndPos = 0;\n            var b1 = -1; // byte before one\n            var b2 = -2; // byte before two\n            var nalStartPos = new Array();\n            for (var i = 0; i < typedAr.length; i += 2) {\n                var b_0 = typedAr[i];\n                var b_1 = typedAr[i + 1];\n                if (b1 == 0 && b_0 == 0 && b_1 == 0) {\n                    nalStartPos.push(i - 1);\n                } else if (b_1 == 1 && b_0 == 0 && b1 == 0 && b2 == 0) {\n                    nalStartPos.push(i - 2);\n                }\n                b2 = b_0;\n                b1 = b_1;\n            }\n            if (nalStartPos.length > 1) {\n                for (var i = 0; i < nalStartPos.length - 1; ++i) {\n                    this.nals.push(typedAr.subarray(nalStartPos[i], nalStartPos[i + 1] + 1));\n                    lastNalEndPos = nalStartPos[i + 1];\n                }\n            } else {\n                lastNalEndPos = nalStartPos[0];\n            }\n            if (lastNalEndPos != 0 && lastNalEndPos < typedAr.length) {\n                this.lastBuf = typedAr.subarray(lastNalEndPos);\n            } else {\n                if (!!!this.lastBuf) {\n                    this.lastBuf = typedAr;\n                }\n                var _newBuf = new Uint8Array(this.lastBuf.length + buffer.byteLength);\n                _newBuf.set(this.lastBuf);\n                _newBuf.set(new Uint8Array(buffer), this.lastBuf.length);\n                this.lastBuf = _newBuf;\n            }\n        }\n    }, {\n        key: 'onH264DataParsing',\n        value: function onH264DataParsing(event) {\n            this._read(event.data);\n            var $this = this;\n            this.nals.forEach(function (nal) {\n                $this.wfs.trigger(_events2.default.H264_DATA_PARSED, {\n                    data: nal\n                });\n            });\n        }\n    }]);\n\n    return SlicesReader;\n}(_eventHandler2.default);\n\nexports.default = SlicesReader;\n\n},{\"../demux/h264-demuxer\":5,\"../event-handler\":7,\"../events\":8}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction noop() {}\n\nvar fakeLogger = {\n  trace: noop,\n  debug: noop,\n  log: noop,\n  warn: noop,\n  info: noop,\n  error: noop\n};\n\nvar exportedLogger = fakeLogger;\n\n//let lastCallTime;\n// function formatMsgWithTimeInfo(type, msg) {\n//   const now = Date.now();\n//   const diff = lastCallTime ? '+' + (now - lastCallTime) : '0';\n//   lastCallTime = now;\n//   msg = (new Date(now)).toISOString() + ' | [' +  type + '] > ' + msg + ' ( ' + diff + ' ms )';\n//   return msg;\n// }\n\nfunction formatMsg(type, msg) {\n  msg = '[' + type + '] > ' + msg;\n  return msg;\n}\n\nfunction consolePrintFn(type) {\n  var func = window.console[type];\n  if (func) {\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (args[0]) {\n        args[0] = formatMsg(type, args[0]);\n      }\n      func.apply(window.console, args);\n    };\n  }\n  return noop;\n}\n\nfunction exportLoggerFunctions(debugConfig) {\n  for (var _len2 = arguments.length, functions = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    functions[_key2 - 1] = arguments[_key2];\n  }\n\n  functions.forEach(function (type) {\n    exportedLogger[type] = debugConfig[type] ? debugConfig[type].bind(debugConfig) : consolePrintFn(type);\n  });\n}\n\nvar enableLogs = exports.enableLogs = function enableLogs(debugConfig) {\n  if (debugConfig === true || (typeof debugConfig === 'undefined' ? 'undefined' : _typeof(debugConfig)) === 'object') {\n    exportLoggerFunctions(debugConfig,\n    // Remove out from list here to hard-disable a log-level\n    //'trace',\n    'debug', 'log', 'info', 'warn', 'error');\n    // Some browsers don't allow to use bind on console object anyway\n    // fallback to default if needed\n    try {\n      exportedLogger.log();\n    } catch (e) {\n      exportedLogger = fakeLogger;\n    }\n  } else {\n    exportedLogger = fakeLogger;\n  }\n};\n\nvar logger = exports.logger = exportedLogger;\n\n},{}],16:[function(require,module,exports){\n'use strict';\n\nif (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n  ArrayBuffer.prototype.slice = function (start, end) {\n    var that = new Uint8Array(this);\n    if (end === undefined) {\n      end = that.length;\n    }\n    var result = new ArrayBuffer(end - start);\n    var resultArray = new Uint8Array(result);\n    for (var i = 0; i < resultArray.length; i++) {\n      resultArray[i] = that[i + start];\n    }\n    return result;\n  };\n}\n\n},{}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * XHR based logger\n*/\n\nvar XhrLoader = function () {\n  function XhrLoader(config) {\n    _classCallCheck(this, XhrLoader);\n\n    if (config && config.xhrSetup) {\n      this.xhrSetup = config.xhrSetup;\n    }\n  }\n\n  _createClass(XhrLoader, [{\n    key: 'destroy',\n    value: function destroy() {\n      this.abort();\n      this.loader = null;\n    }\n  }, {\n    key: 'abort',\n    value: function abort() {\n      var loader = this.loader;\n      if (loader && loader.readyState !== 4) {\n        this.stats.aborted = true;\n        loader.abort();\n      }\n\n      window.clearTimeout(this.requestTimeout);\n      this.requestTimeout = null;\n      window.clearTimeout(this.retryTimeout);\n      this.retryTimeout = null;\n    }\n  }, {\n    key: 'loadHead',\n    value: function loadHead(context, config, callbacks) {\n      this.context = context;\n      this.config = config;\n      this.callbacks = callbacks;\n      this.stats = { trequest: performance.now(), retry: 0 };\n      this.retryDelay = config.retryDelay;\n      var xhr = new XMLHttpRequest();\n      xhr.open('head', context.url);\n      xhr.onload = function () {\n        callbacks.onSuccess(xhr.getResponseHeader('content-length'));\n      };\n      xhr.send();\n    }\n  }, {\n    key: 'load',\n    value: function load(context, config, callbacks) {\n      this.context = context;\n      this.config = config;\n      this.callbacks = callbacks;\n      this.stats = { trequest: performance.now(), retry: 0 };\n      this.retryDelay = config.retryDelay;\n      this.loadInternal();\n    }\n  }, {\n    key: 'loadInternal',\n    value: function loadInternal() {\n      var xhr,\n          context = this.context;\n      if (typeof XDomainRequest !== 'undefined') {\n        xhr = this.loader = new XDomainRequest();\n      } else {\n        xhr = this.loader = new XMLHttpRequest();\n      }\n      xhr.onloadend = this.loadend.bind(this);\n      xhr.onprogress = this.loadprogress.bind(this);\n      xhr.open('GET', context.url, true);\n      if (context.rangeEnd) {\n        xhr.setRequestHeader('Range', 'bytes=' + context.rangeStart + '-' + (context.rangeEnd - 1));\n      }\n      xhr.responseType = context.responseType;\n      var stats = this.stats;\n      stats.tfirst = 0;\n      stats.loaded = 0;\n      if (this.xhrSetup) {\n        this.xhrSetup(xhr, context.url);\n      }\n      // setup timeout before we perform request\n      this.requestTimeout = window.setTimeout(this.loadtimeout.bind(this), this.config.timeout);\n      xhr.send();\n    }\n  }, {\n    key: 'loadend',\n    value: function loadend(event) {\n      var xhr = event.currentTarget,\n          status = xhr.status,\n          stats = this.stats,\n          context = this.context,\n          config = this.config;\n      // don't proceed if xhr has been aborted\n      if (stats.aborted) {\n        return;\n      }\n      // in any case clear the current xhrs timeout\n      window.clearTimeout(this.requestTimeout);\n\n      // http status between 200 to 299 are all successful\n      if (status >= 200 && status < 300) {\n        stats.tload = Math.max(stats.tfirst, performance.now());\n        var data = void 0,\n            len = void 0;\n        if (context.responseType === 'arraybuffer') {\n          data = xhr.response;\n          len = data.byteLength;\n        } else {\n          data = xhr.responseText;\n          len = data.length;\n        }\n        stats.loaded = stats.total = len;\n        var response = { url: xhr.responseURL, data: data };\n        this.callbacks.onSuccess(response, stats, context);\n      } else {\n        // if max nb of retries reached or if http status between 400 and 499 (such error cannot be recovered, retrying is useless), return error\n        if (stats.retry >= config.maxRetry || status >= 400 && status < 499) {\n          //  logger.error(`${status} while loading ${context.url}` );\n          this.callbacks.onError({ code: status, text: xhr.statusText }, context);\n        } else {\n          // retry\n          //  logger.warn(`${status} while loading ${context.url}, retrying in ${this.retryDelay}...`);\n          // aborts and resets internal state\n          this.destroy();\n          // schedule retry\n          this.retryTimeout = window.setTimeout(this.loadInternal.bind(this), this.retryDelay);\n          // set exponential backoff\n          this.retryDelay = Math.min(2 * this.retryDelay, config.maxRetryDelay);\n          stats.retry++;\n        }\n      }\n    }\n  }, {\n    key: 'loadtimeout',\n    value: function loadtimeout() {\n      //  logger.warn(`timeout while loading ${this.context.url}` );\n      this.callbacks.onTimeout(this.stats, this.context);\n    }\n  }, {\n    key: 'loadprogress',\n    value: function loadprogress(event) {\n      var stats = this.stats;\n      if (stats.tfirst === 0) {\n        stats.tfirst = Math.max(performance.now(), stats.trequest);\n      }\n      stats.loaded = event.loaded;\n      if (event.lengthComputable) {\n        stats.total = event.total;\n      }\n      var onProgress = this.callbacks.onProgress;\n      if (onProgress) {\n        // last args is to provide on progress data\n        onProgress(stats, this.context, null);\n      }\n    }\n  }]);\n\n  return XhrLoader;\n}();\n\nexports.default = XhrLoader;\n\n},{}],18:[function(require,module,exports){\n/**\n * WFS interface, Jeff Yang 2016.10\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require('./events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _flowController = require('./controller/flow-controller');\n\nvar _flowController2 = _interopRequireDefault(_flowController);\n\nvar _bufferController = require('./controller/buffer-controller');\n\nvar _bufferController2 = _interopRequireDefault(_bufferController);\n\nvar _events3 = require('events');\n\nvar _events4 = _interopRequireDefault(_events3);\n\nvar _xhrLoader = require('./utils/xhr-loader');\n\nvar _xhrLoader2 = _interopRequireDefault(_xhrLoader);\n\nvar _websocketLoader = require('./loader/websocket-loader');\n\nvar _websocketLoader2 = _interopRequireDefault(_websocketLoader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Wfs = function () {\n  _createClass(Wfs, null, [{\n    key: 'isSupported',\n    value: function isSupported() {\n      return window.MediaSource && typeof window.MediaSource.isTypeSupported === 'function' && window.MediaSource.isTypeSupported('video/mp4; codecs=\"avc1.42c01f,mp4a.40.2\"');\n    }\n  }, {\n    key: 'version',\n    get: function get() {\n      // replaced with browserify-versionify transform\n      return '' + 'v.0.0.0.1';\n    }\n  }, {\n    key: 'Events',\n    get: function get() {\n      return _events2.default;\n    }\n  }, {\n    key: 'DefaultConfig',\n    get: function get() {\n      if (!Wfs.defaultConfig) {\n        Wfs.defaultConfig = {\n          autoStartLoad: true,\n          startPosition: -1,\n          debug: false,\n          fLoader: undefined,\n          loader: _xhrLoader2.default,\n          //loader: FetchLoader,\n          fmp4FileUrl: 'xxxx.mp4',\n          fragLoadingTimeOut: 20000,\n          fragLoadingMaxRetry: 6,\n          fragLoadingRetryDelay: 1000,\n          fragLoadingMaxRetryTimeout: 64000,\n          fragLoadingLoopThreshold: 3,\n          forceKeyFrameOnDiscontinuity: true,\n          appendErrorMaxRetry: 3,\n          fps: 30,\n          paused: false\n        };\n      }\n      return Wfs.defaultConfig;\n    },\n    set: function set(defaultConfig) {\n      Wfs.defaultConfig = defaultConfig;\n    }\n  }]);\n\n  function Wfs() {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Wfs);\n\n    var defaultConfig = Wfs.DefaultConfig;\n    for (var prop in defaultConfig) {\n      if (prop in config) {\n        continue;\n      }\n      config[prop] = defaultConfig[prop];\n    }\n    this.config = config;\n    // observer setup\n    var observer = this.observer = new _events4.default();\n    observer.trigger = function trigger(event) {\n      for (var _len = arguments.length, data = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        data[_key - 1] = arguments[_key];\n      }\n\n      observer.emit.apply(observer, [event, event].concat(data));\n    };\n\n    observer.off = function off(event) {\n      for (var _len2 = arguments.length, data = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        data[_key2 - 1] = arguments[_key2];\n      }\n\n      observer.removeListener.apply(observer, [event].concat(data));\n    };\n    this.on = observer.on.bind(observer);\n    this.off = observer.off.bind(observer);\n    this.trigger = observer.trigger.bind(observer);\n\n    this.flowController = new _flowController2.default(this);\n    this.bufferController = new _bufferController2.default(this);\n    //  this.fileLoader = new FileLoader(this);\n    this.websocketLoader = new _websocketLoader2.default(this);\n    this.mediaType = undefined;\n  }\n\n  _createClass(Wfs, [{\n    key: 'destroy',\n    value: function destroy() {\n      this.flowController.destroy();\n      this.bufferController.destroy();\n      //   this.fileLoader.destroy();\n      this.websocketLoader.destroy();\n    }\n  }, {\n    key: 'attachMedia',\n    value: function attachMedia(media) {\n      var mediaType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'H264Raw';\n      // 'H264Raw' 'FMp4'\n      this.mediaType = mediaType;\n      this.media = media;\n      this.trigger(_events2.default.MEDIA_ATTACHING, { media: media, mediaType: mediaType });\n\n      this.mp4buffer = new Uint8Array();\n    }\n  }, {\n    key: 'receiveSocketMessage',\n    value: function receiveSocketMessage(data) {\n      this.websocketLoader.receiveSocketMessage(data);\n    }\n  }]);\n\n  return Wfs;\n}();\n\nexports.default = Wfs;\n\n},{\"./controller/buffer-controller\":2,\"./controller/flow-controller\":3,\"./events\":8,\"./loader/websocket-loader\":11,\"./utils/xhr-loader\":17,\"events\":1}]},{},[10])(10)\n});\n//# sourceMappingURL=wfs.js.map\n","export enum HackId {\n    RTSPServer = \"rtsp-server\",\n    WebsocketStreamServer = \"websocket-stream-server\",\n    SSHServer = \"ssh-server\"\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <router-view />\n</template>\n\n<script>\n  export default {\n    props: {\n      source: String,\n    },\n  }\n</script>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7ca86d6d&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('root-template',[_c('template',{slot:\"toolbar-title\"},[_vm._v(_vm._s(_vm.toolbarTitle))]),_c('template',{slot:\"content\"},[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"center\"}},[_c('v-row',[_c('v-col',[_c('streaming-config',{on:{\"saved\":_vm.refresh}})],1)],1),_c('v-row',[_c('v-col',[_c('streaming-player',{ref:\"streamingPlayerComponent\"})],1)],1),_c('v-row',[_c('v-col',[_c('hack-info',{staticClass:\"fill-height\",attrs:{\"hackIds\":_vm.relatedHackIds}})],1)],1)],1)],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"clipped\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item-group',{attrs:{\"color\":\"primary\"}},[_c('v-list-item',{attrs:{\"link\":\"\",\"to\":{name: 'Dashboard'},\"exact\":\"\"}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-view-dashboard\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Dashboard\")])],1)],1),_c('v-list-item',{attrs:{\"link\":\"\",\"to\":{name: 'StreamingDashboard'}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-video-wireless-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Video Streaming\")])],1)],1),_c('v-list-item',{attrs:{\"link\":\"\",\"to\":{name: 'SshSftpDashboard'}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-console-network-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"SSH / SFTP Server\")])],1)],1)],1)],1)],1),_c('v-app-bar',{attrs:{\"app\":\"\",\"clipped-left\":\"\"}},[_c('v-app-bar-nav-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_c('v-toolbar-title',[_vm._t(\"toolbar-title\")],2)],1),_c('v-content',[_vm._t(\"content\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator';\n\n@Component\nexport default class RootTemplate extends Vue {\n  private drawer = true;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RootTemplate.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RootTemplate.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RootTemplate.vue?vue&type=template&id=f0ef2f6a&\"\nimport script from \"./RootTemplate.vue?vue&type=script&lang=ts&\"\nexport * from \"./RootTemplate.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VApp,VAppBar,VAppBarNavIcon,VContent,VIcon,VList,VListItem,VListItemContent,VListItemGroup,VListItemIcon,VListItemTitle,VNavigationDrawer,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isLoading != 0}},[_c('v-card-title',[_vm._v(\"Info\")]),_c('v-card-text',{domProps:{\"innerHTML\":_vm._s(_vm.infoText)}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop } from 'vue-property-decorator';\nimport axios from \"axios\";\n\n@Component\nexport default class HackInfo extends Vue {\n  @Prop({required: true})\n  public hackIds!: string[];\n\n  private isLoading = 0;\n  private infoText: string;\n\n  constructor() {\n    super();\n\n    this.infoText = \"\";\n  }\n\n  mounted() {\n\n    this.hackIds.forEach(hackId => {\n      this.isLoading++;\n\n      axios.get(\"/api/hack/\" + hackId + \"/info\")\n      .then(response => {\n        this.infoText += response.data;\n        this.isLoading--;\n      });\n    });\n  }\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HackInfo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HackInfo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HackInfo.vue?vue&type=template&id=f04977da&\"\nimport script from \"./HackInfo.vue?vue&type=script&lang=ts&\"\nexport * from \"./HackInfo.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VCard,VCardText,VCardTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-snackbar',{attrs:{\"top\":true,\"timeout\":10000,\"color\":_vm.snackbarColor,\"vertical\":true},model:{value:(_vm.showSnackbar),callback:function ($$v) {_vm.showSnackbar=$$v},expression:\"showSnackbar\"}},[_c('div',{staticClass:\"font-weight-bold\"},[_vm._v(\"Preview Player\")]),_c('div',[_vm._v(_vm._s(_vm.snackbarText))]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.showSnackbar = false}}},[_vm._v(\"Close\")])],1),_c('v-card',{attrs:{\"loading\":_vm.isLoading}},[_c('v-card-title',[_vm._v(\"Preview\")]),_c('v-card-text',[_c('video',{ref:\"videoPreview\",staticStyle:{\"width\":\"100%\",\"height\":\"250px\"},attrs:{\"id\":\"videoPreview\",\"controls\":\"\",\"autoplay\":\"\",\"muted\":\"\"},domProps:{\"muted\":true}}),_c('v-overlay',{attrs:{\"opacity\":_vm.overlayOpacity,\"absolute\":true,\"value\":_vm.isLoading || _vm.showOverlay}},[(_vm.isLoading)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"secondary\"}}):_vm._e(),(_vm.showOverlay)?_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"text-center\"},[_c('v-icon',{attrs:{\"size\":\"70\"}},[_vm._v(\"mdi-video-off\")])],1)],1),_c('v-row',[_c('v-col',[_vm._v(\" \"+_vm._s(_vm.overlayMessage)+\" \")])],1)],1):_vm._e()],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn-toggle',{attrs:{\"rounded\":\"\",\"color\":\"primary\",\"background-color\":\"secondary\"},on:{\"change\":_vm.reload},model:{value:(_vm.videoChannel),callback:function ($$v) {_vm.videoChannel=$$v},expression:\"videoChannel\"}},[_c('v-btn',{attrs:{\"disabled\":_vm.isLoading,\"small\":\"\",\"value\":0}},[_c('span',[_vm._v(\"Mainstream\")])]),_c('v-btn',{attrs:{\"disabled\":_vm.isLoading,\"small\":\"\",\"value\":1}},[_c('span',[_vm._v(\"Substream\")])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator';\nimport axios from \"axios\";\nimport { HackId } from '../helpers/HackId';\n\n// eslint-disable-next-line\nconst Wfs: any = require(\"@/assets/js/wfs\");\n//import * as Wfs from \"@/assets/js/wfs\";\n\n@Component\nexport default class StreamingPlayer extends Vue {\n\n  private isLoading: boolean;\n  private videoChannel: number;\n  private mainstreamUri: string;\n  private substreamUri: string;\n\n  private snackbarColor: string;\n  private showSnackbar: boolean;\n  private snackbarText: string;\n\n  private showOverlay: boolean;\n  private overlayOpacity: number;\n  private overlayMessage: string;\n\n  private websocket!: WebSocket;\n\n  constructor() {\n    super();\n\n    this.isLoading = false;\n\n    this.videoChannel = 1;\n\n    this.mainstreamUri = \"\";\n    this.substreamUri = \"\";\n\n    this.snackbarColor = \"\";\n    this.showSnackbar = false;\n    this.snackbarText = \"\";\n\n    this.showOverlay = false;\n    this.overlayOpacity = 0.46;\n    this.overlayMessage = \"\";\n  }\n\n  public reload(): void {\n    this.isLoading = true;\n\n    this.isWebsocketStreamEnabled().then(websocketStreamEnabled => {\n      if(websocketStreamEnabled) {\n        this.getCurrentVideoEncoding().then(videoEncoding => {\n          if(videoEncoding === \"h264\") {\n\n            this.loadWebsocketStreamEndpoints().then(endpoints => {    \n              this.mainstreamUri = endpoints.mainstream;\n              this.substreamUri = endpoints.substream;\n              this.isLoading = false;\n              this.showOverlay = false;\n              this.overlayOpacity = 0.46;\n              this.overlayMessage = \"\";\n\n              this.reloadPlayer();  \n            });\n          }\n          else {\n            this.isLoading = false;\n\n            this.showOverlay = true;\n            this.overlayOpacity = 1;\n            this.overlayMessage = \"Preview requires H264 encoding.\";\n          }\n        });\n      }\n      else {\n        this.isLoading = false;\n\n        this.showOverlay = true;\n        this.overlayOpacity = 1;\n        this.overlayMessage = \"Preview requires \\\"Websocket Stream\\\" to be enabled.\";\n      }\n    });\n  }\n\n  private reloadPlayer(): void {\n    if(this.websocket && this.websocket.readyState === WebSocket.OPEN) {\n      this.websocket.close();\n    }\n\n    this.$nextTick(() => {\n      const videoElement: HTMLVideoElement = this.$refs.videoPreview as HTMLVideoElement;\n\n      if(Wfs.isSupported()) {\n        const wfs = new Wfs({fps:30});\n        this.websocket = new WebSocket(this.videoChannel === 0 ? this.mainstreamUri : this.substreamUri);\n\n        wfs.attachMedia(videoElement,'H264Raw');\n\n        videoElement.addEventListener(\"pause\", function() {\n          wfs.config.paused = true;\n        }, true);\n\n        videoElement.addEventListener(\"play\", function() {\n          wfs.config.paused = false;\n        }, true);\n\n        this.websocket.onopen = function() {\n          this.binaryType = 'arraybuffer';\n        }\n\n        this.websocket.onmessage = function(e) {\n          wfs.receiveSocketMessage(e.data);\n        }\n      }\n    });\n  }\n\n  mounted() {\n      this.reload();\n  }\n\n  private isWebsocketStreamEnabled(): Promise<boolean> {\n    return new Promise((resolve) => {\n       axios.get(\"/api/hack/\" + HackId.WebsocketStreamServer + \"/config\")\n      .then(response => {\n        resolve(response.data.enable);\n      })\n      .catch(() => {\n        this.showSnackbarError(\"Error loading metadata.\");\n      });\n    });\n  }\n\n  private getCurrentVideoEncoding(): Promise<string> {\n    return new Promise((resolve => {\n      axios.get(\"/api/hack/\" + HackId.RTSPServer + \"/config\")\n      .then(response => {\n        resolve(response.data.encodingType);\n      })\n      .catch(() => {\n        this.showSnackbarError(\"Error loading metadata.\");\n      });\n    }));\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private loadWebsocketStreamEndpoints(): Promise<any> {\n    return new Promise((resolve) => {\n      axios.get(\"/api/hack/\" + HackId.WebsocketStreamServer + \"/endpoints\")\n      .then(response => {\n        resolve(response.data);\n      })\n      .catch(() => {\n        this.showSnackbarError(\"Error loading metadata.\");\n      });\n    });\n  }\n\n  private showSnackbarError(message: string) {\n    this.snackbarColor = \"error\";\n    this.snackbarText = message;\n    this.showSnackbar = true;\n  }\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingPlayer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingPlayer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StreamingPlayer.vue?vue&type=template&id=7d96713e&\"\nimport script from \"./StreamingPlayer.vue?vue&type=script&lang=ts&\"\nexport * from \"./StreamingPlayer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VBtnToggle,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VIcon,VOverlay,VProgressCircular,VRow,VSnackbar,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-snackbar',{attrs:{\"top\":true,\"timeout\":10000,\"color\":_vm.snackbarColor,\"vertical\":true},model:{value:(_vm.showSnackbar),callback:function ($$v) {_vm.showSnackbar=$$v},expression:\"showSnackbar\"}},[_c('div',{staticClass:\"font-weight-bold\"},[_vm._v(\"Configuration\")]),_c('div',[_vm._v(_vm._s(_vm.snackbarText))]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.showSnackbar = false}}},[_vm._v(\"Close\")])],1),_c('v-card',{attrs:{\"loading\":_vm.isLoading,\"disabled\":_vm.isLoading}},[_c('v-card-title',[_vm._v(\"Configuration\")]),_c('v-card-text',[_c('v-form',[_c('v-switch',{attrs:{\"hide-details\":\"\",\"label\":\"Enable RTSP\"},model:{value:(_vm.rtspConfig.config.enable),callback:function ($$v) {_vm.$set(_vm.rtspConfig.config, \"enable\", $$v)},expression:\"rtspConfig.config.enable\"}}),_c('v-switch',{attrs:{\"hide-details\":\"\",\"label\":\"Enable Websocket Stream\"},model:{value:(_vm.websocketStreamConfig.config.enable),callback:function ($$v) {_vm.$set(_vm.websocketStreamConfig.config, \"enable\", $$v)},expression:\"websocketStreamConfig.config.enable\"}}),_c('v-radio-group',{attrs:{\"label\":\"Encoding Type\"},model:{value:(_vm.rtspConfig.config.encodingType),callback:function ($$v) {_vm.$set(_vm.rtspConfig.config, \"encodingType\", $$v)},expression:\"rtspConfig.config.encodingType\"}},[_c('v-radio',{attrs:{\"label\":\"H265 (HEVC)\",\"value\":\"h265\"}}),_c('v-radio',{attrs:{\"label\":\"H264\",\"value\":\"h264\"}})],1)],1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":_vm.saveConfig}},[_vm._v(\"Save\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\n\ninterface ConstructorOptions<T, E> {\n  hackId: string;\n  endpointSuffix?: string;\n  TCreator: { new(): T};\n  ECreator?: { new(): E};\n}\n\nexport default class ConfigurableHack<T, E = void> {\n  public config: T = {} as T;\n  public entityConfig: E = {} as E;\n  protected hackId: string;\n  protected endpointSuffix: string;\n  protected ECreator?: { new(): E };\n\n  constructor(options: ConstructorOptions<T, E>) {\n    this.hackId = options.hackId;\n    this.endpointSuffix = options.endpointSuffix ?? \"\";\n\n    if(options.TCreator) {\n      this.config = new options.TCreator();\n    }\n\n    if(options.ECreator) {\n      this.ECreator = options.ECreator;\n      this.entityConfig = new options.ECreator();\n    }\n  }\n\n  public loadConfig(): Promise<void> {\n\n    return new Promise<void>((resolve, reject) => {\n      axios.get<T>(\"/api/hack/\" + this.hackId + \"/config/\" + this.endpointSuffix)\n      .then(response =>\n      {\n        this.config = response.data;\n        resolve();\n      })\n      .catch(() => { reject() });\n    });\n  }\n    \n  public saveConfig(): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      axios.post(\"/api/hack/\" + this.hackId + \"/config/\"+this.endpointSuffix, this.config)\n      .then(() =>{ resolve() })\n      .catch(() => { reject() });\n    });\n  }\n\n  public addEntity(): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      axios.post(\"/api/hack/\" + this.hackId + \"/config/\"+this.endpointSuffix, this.entityConfig)\n      .then(() => {\n        if(this.ECreator) {\n          this.entityConfig = new this.ECreator();\n        }\n\n        resolve();\n      })\n      .catch(error => { reject(error.response.data) });\n    });\n  }\n\n  public deleteEntity(id: string): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      axios.delete(\"/api/hack/\" + this.hackId + \"/config/\"+this.endpointSuffix+\"/\"+id, this.entityConfig)\n      .then(() => { resolve() })\n      .catch(() => { reject() });\n    });\n  }\n\n}","import ConfigurableHack from \"../ConfigurableHack\";\nimport { HackId } from \"../../helpers/HackId\";\n\nexport class RtspConfigDefinition {\n  enable!: boolean;\n  encodingType!: string;\n}\n\nexport default class RtspConfig extends ConfigurableHack<RtspConfigDefinition> {\n\n  constructor() {\n    super({\n      hackId: HackId.RTSPServer, TCreator: RtspConfigDefinition\n    });\n  }\n\n}\n","import ConfigurableHack from \"../ConfigurableHack\";\nimport { HackId } from \"../../helpers/HackId\";\n\nexport class WebsocketStreamConfigDefinition {\n  enable!: boolean;\n}\n\nexport default class WebsocketStreamConfig extends ConfigurableHack<WebsocketStreamConfigDefinition> {\n\n  constructor() {\n    super({\n      hackId: HackId.WebsocketStreamServer,\n      TCreator: WebsocketStreamConfigDefinition\n    });\n  }\n\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator';\nimport RtspConfig from '../../controllers/rtsp/RtspConfig';\nimport WebsocketStreamConfig from '../../controllers/websocket-stream/WebsocketStreamConfig';\n\n@Component\nexport default class StreamingConfig extends Vue {\n  private isLoading = false;\n\n  private rtspConfig: RtspConfig;\n  private websocketStreamConfig: WebsocketStreamConfig;\n\n  private snackbarText: string;\n  private showSnackbar: boolean;\n  private snackbarColor: string;\n\n  constructor() {\n    super();\n\n    this.snackbarText = \"\";\n    this.showSnackbar = false;\n\n    this.rtspConfig = new RtspConfig();\n    this.websocketStreamConfig = new WebsocketStreamConfig();\n\n    this.snackbarColor = \"\";\n  }\n\n  mounted() {\n    const rtspConfigResult = this.rtspConfig.loadConfig();\n    const websocketConfigResult = this.websocketStreamConfig.loadConfig();\n\n    this.isLoading = true;\n    \n    Promise.all([rtspConfigResult, websocketConfigResult])\n    .then(() => {\n      this.isLoading = false;\n    })\n    .catch(() => {\n      this.snackbarText = \"Error loading configuration.\";\n      this.snackbarColor = \"error\";\n      this.showSnackbar = true;\n    });\n  }\n\n  saveConfig(): void {\n    const rtspSaveResult = this.rtspConfig.saveConfig();\n    const websocketSaveResult = this.websocketStreamConfig.saveConfig();\n\n    this.isLoading = true;\n\n    Promise.all([rtspSaveResult, websocketSaveResult])\n    .then(() => {\n      this.isLoading = false;\n\n      this.snackbarText = \"Saved with success!\";\n      this.snackbarColor = \"success\";\n      this.showSnackbar = true;\n\n      this.$emit(\"saved\");\n    })\n    .catch(() =>{\n      this.snackbarText = \"Error saving configuration.\";\n      this.snackbarColor = \"error\";\n      this.showSnackbar = true;\n    });\n\n  }\n\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingConfig.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingConfig.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StreamingConfig.vue?vue&type=template&id=26f25088&\"\nimport script from \"./StreamingConfig.vue?vue&type=script&lang=ts&\"\nexport * from \"./StreamingConfig.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VForm,VRadio,VRadioGroup,VSnackbar,VSwitch})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator';\nimport { HackId } from '../../helpers/HackId';\nimport RootTemplate from '../root/RootTemplate.vue';\nimport HackInfo from '../../components/HackInfo.vue';\nimport StreamingPlayer from '../../components/StreamingPlayer.vue';\nimport StreamingConfig from './StreamingConfig.vue';\n\n@Component({\n  components: {RootTemplate, StreamingConfig, HackInfo, StreamingPlayer}\n})\nexport default class StreamingDashboard extends Vue {\n  private toolbarTitle = \"Video Streaming\";\n  private relatedHackIds = [HackId.RTSPServer, HackId.WebsocketStreamServer];\n\n  private refresh() {\n    this.reloadPreview();\n  }\n\n  private reloadPreview() {\n    window.setTimeout( () => {\n      (this.$refs.streamingPlayerComponent as StreamingPlayer).reload();\n    }, 1000);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingDashboard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingDashboard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StreamingDashboard.vue?vue&type=template&id=1d1642a4&\"\nimport script from \"./StreamingDashboard.vue?vue&type=script&lang=ts&\"\nexport * from \"./StreamingDashboard.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('root-template',[_c('template',{slot:\"toolbar-title\"},[_vm._v(_vm._s(_vm.toolbarTitle))]),_c('template',{slot:\"content\"},[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"center\"}},[_c('v-row',[_c('v-col',[_c('ssh-sftp-general-config')],1)],1),_c('v-row',[_c('v-col',[_c('ssh-sftp-user-management')],1)],1)],1)],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-snackbar',{attrs:{\"top\":true,\"timeout\":10000,\"color\":_vm.snackbarColor,\"vertical\":true},model:{value:(_vm.showSnackbar),callback:function ($$v) {_vm.showSnackbar=$$v},expression:\"showSnackbar\"}},[_c('div',{staticClass:\"font-weight-bold\"},[_vm._v(\"Services\")]),_c('div',[_vm._v(_vm._s(_vm.snackbarMessage))]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.showSnackbar = false}}},[_vm._v(\"Close\")])],1),_c('v-card',{attrs:{\"loading\":_vm.isLoading}},[_c('v-card-title',[_vm._v(\"Services\")]),_c('v-card-text',_vm._l((_vm.serviceStatus),function(status,hackId){return _c('div',{key:hackId},[_vm._v(\" \"+_vm._s(status.name)+\": \"),_c('v-chip',{staticClass:\"ma-2\",attrs:{\"small\":\"\",\"color\":status.color}},[_vm._v(_vm._s(status.description))])],1)}),0)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop } from 'vue-property-decorator';\nimport axios, {AxiosResponse} from \"axios\";\nimport bluebird from \"bluebird\";\n\nclass ServiceStatus extends Vue {\n  public name: string;\n  public description: string;\n  public color: string;\n\n  constructor(name: string, description: string, color: string) {\n    super();\n    \n    this.name = name;\n    this.description = description;\n    this.color = color;\n  }\n}\n\ninterface StatusPropertiesDefinition {\n  description: string;\n  color: string;\n}\n\nclass ServiceStatusFactory {\n  private static statusProperties: {[id: string]: StatusPropertiesDefinition} = {\n    \"run\": {description: \"Running\", color: \"success\"},\n    \"down\": {description: \"Stopped\", color: \"\"},\n    \"fail\": {description: \"Stopped\", color: \"\"},\n    \"unknown\": {description: \"Unknown\", color: \"warning\"}\n  };\n\n  public static make(name: string, status: string): ServiceStatus {\n    const properties: StatusPropertiesDefinition = ServiceStatusFactory.statusProperties[status];\n    return new ServiceStatus(name, properties.description, properties.color);\n  }\n}\n\n@Component\nexport default class ServiceInfo extends Vue {\n\n  @Prop({required: true})\n  public hackIds!: string[];\n\n  private serviceStatus: {[id: string]: ServiceStatus} = {};\n  private isLoading = false;\n  private showSnackbar = false;\n  private snackbarMessage = \"\";\n  private snackbarColor = \"\";\n\n  constructor() {\n    super();\n\n    this.hackIds.forEach(hackId => this.serviceStatus[hackId] = ServiceStatusFactory.make(hackId, \"unknown\"));\n  }\n\n  public refresh() {\n    const responses: Map<string, Promise<AxiosResponse>> = new Map();\n    this.isLoading = true;\n\n    this.hackIds.forEach(hackId =>{\n      responses.set(hackId, axios.get(\"/api/hack/\" + hackId + \"/service\"));\n    });\n    \n    bluebird.props(responses)\n      .then(result => {\n        for(const [hackId, response] of result.entries()) {\n          this.serviceStatus[hackId] = ServiceStatusFactory.make(response.data.name, response.data.status);\n        }\n        \n        this.isLoading = false;\n      })\n      .catch(() => {\n        this.snackbarMessage = \"An error occured while trying to fetch service status.\";\n        this.snackbarColor = \"error\";\n        this.showSnackbar = true;\n      });\n  }\n\n  mounted() {\n    this.refresh();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceInfo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceInfo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ServiceInfo.vue?vue&type=template&id=126b2613&\"\nimport script from \"./ServiceInfo.vue?vue&type=script&lang=ts&\"\nexport * from \"./ServiceInfo.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VChip,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-snackbar',{attrs:{\"top\":true,\"timeout\":10000,\"color\":_vm.snackbarColor,\"vertical\":true},model:{value:(_vm.showSnackbar),callback:function ($$v) {_vm.showSnackbar=$$v},expression:\"showSnackbar\"}},[_c('div',{staticClass:\"font-weight-bold\"},[_vm._v(\"General Configuration\")]),_c('div',[_vm._v(_vm._s(_vm.snackbarText))]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.showSnackbar = false}}},[_vm._v(\"Close\")])],1),_c('p',{staticClass:\"grey--text lighten-3\"},[_vm._v(\"General Configuration\")]),_c('v-card',{attrs:{\"loading\":_vm.isLoading,\"disabled\":_vm.isLoading}},[_c('v-card-text',[_c('v-switch',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"Enable SSH / SFTP\"},model:{value:(_vm.sshConfig.config.enable),callback:function ($$v) {_vm.$set(_vm.sshConfig.config, \"enable\", $$v)},expression:\"sshConfig.config.enable\"}})],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":_vm.saveConfig}},[_vm._v(\"Save\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ConfigurableHack from \"../ConfigurableHack\";\nimport { HackId } from \"../../helpers/HackId\";\n\nclass SshGeneralConfigDefinition {\n  public enable!: boolean;\n}\n\nexport default class SshGeneralConfig extends ConfigurableHack<SshGeneralConfigDefinition> {\n\n  constructor() {\n    super({\n      hackId: HackId.SSHServer,\n      endpointSuffix: \"general\",\n      TCreator: SshGeneralConfigDefinition,\n    });\n  }\n\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { HackId } from '../../helpers/HackId';\nimport { Vue, Component } from 'vue-property-decorator';\nimport SshGeneralConfig from '../../controllers/ssh/SshGeneralConfig';\n\n@Component\nexport default class SshSftpGeneralConfig extends Vue {\n  private hackId = [HackId.SSHServer];\n  private isLoading = false;\n\n  private sshConfig: SshGeneralConfig;\n\n  private snackbarText: string;\n  private showSnackbar: boolean;\n  private snackbarColor: string;\n\n  constructor() {\n    super();\n\n    this.snackbarText = \"\";\n    this.showSnackbar = false;\n\n    this.sshConfig = new SshGeneralConfig();\n\n    this.snackbarColor = \"\";\n  }\n\n  mounted() {\n    this.isLoading = true;\n\n    this.sshConfig.loadConfig()\n    .then(() => {\n      this.isLoading = false;\n    })\n    .catch(() => {\n      this.snackbarText = \"Error loading configuration.\";\n      this.snackbarColor = \"error\";\n      this.showSnackbar = true;\n    });\n  }\n\n  saveConfig(): void {\n    this.isLoading = true;\n\n    this.sshConfig.saveConfig()\n    .then(() => {\n      this.isLoading = false;\n\n      this.snackbarText = \"Saved with success!\";\n      this.snackbarColor = \"success\";\n      this.showSnackbar = true;\n\n      this.$emit(\"saved\");\n    })\n    .catch(() =>{\n      this.snackbarText = \"Error saving configuration.\";\n      this.snackbarColor = \"error\";\n      this.showSnackbar = true;\n    });\n\n  }\n\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SshSftpGeneralConfig.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SshSftpGeneralConfig.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SshSftpGeneralConfig.vue?vue&type=template&id=542f6cee&\"\nimport script from \"./SshSftpGeneralConfig.vue?vue&type=script&lang=ts&\"\nexport * from \"./SshSftpGeneralConfig.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VSnackbar,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-snackbar',{attrs:{\"top\":true,\"timeout\":10000,\"color\":_vm.snackbarColor,\"vertical\":true},model:{value:(_vm.showSnackbar),callback:function ($$v) {_vm.showSnackbar=$$v},expression:\"showSnackbar\"}},[_c('div',{staticClass:\"font-weight-bold\"},[_vm._v(\"User Management\")]),_c('div',[_vm._v(_vm._s(_vm.snackbarText))]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.showSnackbar = false}}},[_vm._v(\"Close\")])],1),_c('p',{staticClass:\"grey--text lighten-3\"},[_vm._v(\"User Management\")]),_c('v-data-table',{staticClass:\"elevation-1 mt-5\",attrs:{\"headers\":_vm.userTableHeaders,\"items\":_vm.sshUserConfig.config.users,\"disable-pagination\":true,\"loading\":_vm.isLoading,\"hide-default-footer\":\"\",\"no-data-text\":\"Nothing here, create a user to get started!\"},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\",\"dense\":\"\"}},[_c('v-spacer'),_c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"color\":\"primary\",\"small\":\"\",\"disabled\":_vm.isLoading}},on),[_vm._v(\"New User\")])]}}]),model:{value:(_vm.showNewUserDialog),callback:function ($$v) {_vm.showNewUserDialog=$$v},expression:\"showNewUserDialog\"}},[_c('v-card',{attrs:{\"loading\":_vm.isSaving}},[_c('v-card-title',[_vm._v(\"New User\")]),_c('v-card-text',[_c('v-text-field',{staticClass:\"d-none\",attrs:{\"label\":\"System Username\"},model:{value:(_vm.sshUserConfig.entityConfig.systemUsername),callback:function ($$v) {_vm.$set(_vm.sshUserConfig.entityConfig, \"systemUsername\", $$v)},expression:\"sshUserConfig.entityConfig.systemUsername\"}}),_c('v-text-field',{attrs:{\"autofocus\":\"\",\"label\":\"Username\",\"disabled\":_vm.isSaving},model:{value:(_vm.sshUserConfig.entityConfig.username),callback:function ($$v) {_vm.$set(_vm.sshUserConfig.entityConfig, \"username\", $$v)},expression:\"sshUserConfig.entityConfig.username\"}}),_c('v-text-field',{attrs:{\"label\":\"Password\",\"type\":\"password\",\"disabled\":_vm.isSaving},model:{value:(_vm.sshUserConfig.entityConfig.password),callback:function ($$v) {_vm.$set(_vm.sshUserConfig.entityConfig, \"password\", $$v)},expression:\"sshUserConfig.entityConfig.password\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"disabled\":_vm.isSaving},on:{\"click\":function($event){_vm.showNewUserDialog = false}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"success\",\"disabled\":_vm.isSaving},on:{\"click\":_vm.addUser}},[_vm._v(\"Create\")])],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{on:{\"click\":function($event){return _vm.deleteUser(item.username)}}},[_vm._v(\"mdi-delete\")])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ConfigurableHack from \"../ConfigurableHack\";\nimport { HackId } from \"../../helpers/HackId\";\n\nclass SshUserConfigDefinition {\n  public users!: SshUserDefinition[];\n}\n\nclass SshUserDefinition {\n  public systemUsername = \"root\";\n  public username!: string;\n  public password!: string;\n}\n\nexport default class SshUserConfig extends ConfigurableHack<SshUserConfigDefinition, SshUserDefinition> {\n\n  constructor() {\n    super({\n      hackId: HackId.SSHServer,\n      endpointSuffix: \"users\",\n      TCreator: SshUserConfigDefinition,\n      ECreator: SshUserDefinition\n    });\n  }\n\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { HackId } from \"../../helpers/HackId\";\nimport { Vue, Component } from \"vue-property-decorator\";\nimport SshUserConfig from \"../../controllers/ssh/SshUserConfig\";\n\n@Component\nexport default class SshSftpUserManagement extends Vue {\n  private hackId = [HackId.SSHServer];\n  private isLoading = false;\n  private isSaving = false;\n\n  private sshUserConfig: SshUserConfig;\n\n  private snackbarText: string;\n  private showSnackbar: boolean;\n  private snackbarColor: string;\n\n  private showNewUserDialog: boolean;\n\n  private userTableHeaders = [\n    { text: \"Username\", value: \"username\", sortable: false },\n    { text: \"Actions\", value: \"actions\", sortable: false }\n  ];\n\n  private users = [];\n\n  constructor() {\n    super();\n\n    this.snackbarText = \"\";\n    this.showSnackbar = false;\n\n    this.showNewUserDialog = false;\n\n    this.sshUserConfig = new SshUserConfig();\n\n    this.snackbarColor = \"\";\n  }\n\n  mounted() {\n    this.loadConfig();\n  }\n\n  loadConfig() {\n    this.isLoading = true;\n    \n    this.sshUserConfig.loadConfig()\n    .then(() => {\n      this.isLoading = false;\n    })\n    .catch(() => {\n      this.snackbarText = \"Error loading configuration.\";\n      this.snackbarColor = \"error\";\n      this.showSnackbar = true;\n    });\n  }\n\n  addUser(): void {\n    this.isSaving = true;\n\n    this.sshUserConfig.addEntity()\n    .then(() => {\n      this.isSaving = false;\n\n      this.snackbarText = \"User created with success!\";\n      this.snackbarColor = \"success\";\n      this.showSnackbar = true;\n      this.showNewUserDialog = false;\n\n      this.$emit(\"saved\");\n\n      this.loadConfig();\n    })\n    .catch(error => {\n      this.isSaving = false;\n\n      this.snackbarText = error.message;\n      this.snackbarColor = \"error\";\n      this.showSnackbar = true;\n    });\n  }\n\n  deleteUser(username: string) {\n    this.isLoading = true;\n\n    this.sshUserConfig.deleteEntity(username)\n    .then(() => {\n      this.isLoading = false;\n\n      this.snackbarText = \"User deleted with success!\";\n      this.snackbarColor = \"success\";\n      this.showSnackbar = true;\n      this.showNewUserDialog = false;\n\n      this.$emit(\"saved\");\n\n      this.loadConfig();\n    })\n    .catch(() => {\n      this.snackbarText = \"Error deleting user.\";\n      this.snackbarColor = \"error\";\n      this.showSnackbar = true;\n    });\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SshSftpUserManagement.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SshSftpUserManagement.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SshSftpUserManagement.vue?vue&type=template&id=3ab4cce0&\"\nimport script from \"./SshSftpUserManagement.vue?vue&type=script&lang=ts&\"\nexport * from \"./SshSftpUserManagement.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDataTable,VDialog,VIcon,VSnackbar,VSpacer,VTextField,VToolbar})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator';\nimport { HackId } from '../../helpers/HackId';\nimport RootTemplate from '../root/RootTemplate.vue';\nimport ServiceInfo from '../../components/ServiceInfo.vue';\nimport HackInfo from '../../components/HackInfo.vue';\nimport SshSftpGeneralConfig from './SshSftpGeneralConfig.vue';\nimport SshSftpUserManagement from './SshSftpUserManagement.vue';\n\n@Component({\n  components: {RootTemplate, SshSftpGeneralConfig, SshSftpUserManagement, ServiceInfo, HackInfo}\n})\nexport default class SshSftpDashboard extends Vue {\n  private toolbarTitle = \"Video Streaming\";\n  private hackId = [HackId.SSHServer];\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SshSftpDashboard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SshSftpDashboard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SshSftpDashboard.vue?vue&type=template&id=9325e180&\"\nimport script from \"./SshSftpDashboard.vue?vue&type=script&lang=ts&\"\nexport * from \"./SshSftpDashboard.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('root-template',[_c('div',{attrs:{\"slot\":\"toolbar-title\"},slot:\"toolbar-title\"},[_vm._v(_vm._s(_vm.toolbarTitle))]),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('v-container',[_c('p',[_vm._v(\"The dashboard is currently empty.\")]),_c('p',[_vm._v(\"Use the menu on the left to do things.\")])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<root-template>\n    <div slot=\"toolbar-title\">{{ toolbarTitle }}</div>\n    <div slot=\"content\">\n      <v-container>\n        <p>The dashboard is currently empty.</p>\n        <p>Use the menu on the left to do things.</p>\n      </v-container>\n    </div>\n  </root-template>\n</template>\n\n<script>\nimport RootTemplate from '../root/RootTemplate.vue'\n\nexport default {\n  name: 'Dashboard',\n  data: () => ({\n      toolbarTitle: \"Xiaomi Hacks\"\n  }),\n  components: {\n    RootTemplate\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=1c827884&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer})\n","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport StreamingDashboard from '../sections/streaming/StreamingDashboard.vue'\nimport SshSftpDashboard from '../sections/sshsftp/SshSftpDashboard.vue'\nimport Dashboard from '../sections/dashboard/Dashboard.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Dashboard',\n    component: Dashboard\n  },\n  {\n    path: '/streaming',\n    name: 'StreamingDashboard',\n    component: StreamingDashboard\n  },\n  {\n    path: '/ssh',\n    name: 'SshSftpDashboard',\n    component: SshSftpDashboard\n  },\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nexport default router\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n    theme: {\n        dark: true\n    }\n});\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport vuetify from './plugins/vuetify';\n\nimport \"@/assets/global.css\";\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n"],"sourceRoot":""}